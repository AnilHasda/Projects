var __assign=this&&this.__assign||function(){return __assign=Object.assign||function(n){for(var t,r,i=1,u=arguments.length;i<u;i++){t=arguments[i];for(r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},__assign.apply(this,arguments)},__awaiter=this&&this.__awaiter||function(n,t,i,r){function u(n){return n instanceof i?n:new i(function(t){t(n)})}return new(i||(i=Promise))(function(i,f){function o(n){try{e(r.next(n))}catch(t){f(t)}}function s(n){try{e(r["throw"](n))}catch(t){f(t)}}function e(n){n.done?i(n.value):u(n.value).then(o,s)}e((r=r.apply(n,t||[])).next())})},__generator=this&&this.__generator||function(n,t){function o(n){return function(t){return s([n,t])}}function s(o){if(e)throw new TypeError("Generator is already executing.");while(f&&(f=0,o[0]&&(r=0)),r)try{if(e=1,u&&(i=o[0]&2?u["return"]:o[0]?u["throw"]||((i=u["return"])&&i.call(u),0):u.next)&&!(i=i.call(u,o[1])).done)return i;(u=0,i)&&(o=[o[0]&2,i.value]);switch(o[0]){case 0:case 1:i=o;break;case 4:return r.label++,{value:o[1],done:!1};case 5:r.label++;u=o[1];o=[0];continue;case 7:o=r.ops.pop();r.trys.pop();continue;default:if(!(i=r.trys,i=i.length>0&&i[i.length-1])&&(o[0]===6||o[0]===2)){r=0;continue}if(o[0]===3&&(!i||o[1]>i[0]&&o[1]<i[3])){r.label=o[1];break}if(o[0]===6&&r.label<i[1]){r.label=i[1];i=o;break}if(i&&r.label<i[2]){r.label=i[2];r.ops.push(o);break}i[2]&&r.ops.pop();r.trys.pop();continue}o=t.call(n,r)}catch(s){o=[6,s];u=0}finally{e=i=0}if(o[0]&5)throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}var r={label:0,sent:function(){if(i[0]&1)throw i[1];return i[1]},trys:[],ops:[]},e,u,i,f;return f={next:o(0),"throw":o(1),"return":o(2)},typeof Symbol=="function"&&(f[Symbol.iterator]=function(){return this}),f},__spreadArray=this&&this.__spreadArray||function(n,t,i){if(i||arguments.length===2)for(var r=0,f=t.length,u;r<f;r++)!u&&r in t||(u||(u=Array.prototype.slice.call(t,0,r)),u[r]=t[r]);return n.concat(u||Array.prototype.slice.call(t))},SydFSCHelper;(function(n){function yf(u){var tw=this,dt,gt,ni,ti,ii,ui,fi,si,hi,vi,yi,wi,e,bp,o,vr,v,b,et,ot,h,yr,pr,y,st,wr,br,kr,lt,dr,gr,ht,vt,nu,tt,pt,kp,tu,dp,iu,wt,gp,c,it,rt,bt,nw,d;u===void 0&&(u=null);e=_w._sydConvConfig;n.isConfigSet=!0;var ru=t(e===null||e===void 0?void 0:e.country,!1),uu=t(e===null||e===void 0?void 0:e.countryConfidence,!1),fu=t(e===null||e===void 0?void 0:e.state,!1),cu=t(e===null||e===void 0?void 0:e.city,!1),lu=t(e===null||e===void 0?void 0:e.cityConfidence,!1),au=t(e===null||e===void 0?void 0:e.zip,!1),vu=t(e===null||e===void 0?void 0:e.timezoneoffset,!1),iw=t(e===null||e===void 0?void 0:e.enableTimezoneOffsetFromJS,!1),yu=t(e===null||e===void 0?void 0:e.dma,!1),pu=t(e===null||e===void 0?void 0:e.lat,!1),wu=t(e===null||e===void 0?void 0:e.long,!1),rw=t(e===null||e===void 0?void 0:e.userIpAddress,""),uw=t(e===null||e===void 0?void 0:e.overrideSydOptions,!1),bu=t(e===null||e===void 0?void 0:e.sydOptionSets,!1),ku=t(e===null||e===void 0?void 0:e.voiceSrOptions,""),du=t(e===null||e===void 0?void 0:e.sydUrlPart,!1),bi=t(e===null||e===void 0?void 0:e.isSydCorpnet,!1),fw=t(e===null||e===void 0?void 0:e.enableSydOverlay,!1),ew=t(e===null||e===void 0?void 0:e.isVisualParityRun,!1),w=t(e===null||e===void 0?void 0:e.isMSAAuthenticated,!1),ow=t(e===null||e===void 0?void 0:e.isAADAuthenticated,!1),sw=t(e===null||e===void 0?void 0:e.userMailId,""),hw=t(e===null||e===void 0?void 0:e.username,""),gu=t(e===null||e===void 0?void 0:e.sydBaseUrl,!1),ut=t(e===null||e===void 0?void 0:e.isCompliantSydneyEndpointEnabled,!1),ki=t(e===null||e===void 0?void 0:e.isBingChatForEnterprise,!1),cw=t(e===null||e===void 0?void 0:e.isBingChatForSchools,!1);a=cw||ki;at=a&&t(e===null||e===void 0?void 0:e.bfbCookieChatConsented,!1);var nf=t(e===null||e===void 0?void 0:e.sydIDs,""),tf=t(e===null||e===void 0?void 0:e.traceId,""),lw=t(_w._sydConvTranslation,{}),aw=t(e===null||e===void 0?void 0:e.enableSydMic,!1),di=t(e===null||e===void 0?void 0:e.enableSydShare,!1),vw=t(e===null||e===void 0?void 0:e.enableMessageShareableSignalV2,!1),yw=t(e===null||e===void 0?void 0:e.addDv3Opt,!1),pw=t(e===null||e===void 0?void 0:e.addGenContentv3Opt,!1),ww=t(e===null||e===void 0?void 0:e.enable161Feats,!0),bw=t(e===null||e===void 0?void 0:e.enableAnsCardSuffix,!1),kw=t(e===null||e===void 0?void 0:e.enableLikeSaveToBingPage,!1),dw=t(e===null||e===void 0?void 0:e.isAdultUser,!0),gw=t(e===null||e===void 0?void 0:e.isMissingDob,!1),nb=t(e===null||e===void 0?void 0:e.removeDSAT,!0),rf=t(e===null||e===void 0?void 0:e.enableErrorTelemetry,!1),uf=t(e===null||e===void 0?void 0:e.enableSpeechContinuousErrorHandling,!1),hf=t(e===null||e===void 0?void 0:e.enableSpeechChatDataAfterPhrase,!1),tr=t(e===null||e===void 0?void 0:e.enableSpeechEarconOnInput,!1),cf=t(e===null||e===void 0?void 0:e.enableTTSOnSuggestionAfterVoice,!1),tb=t(e===null||e===void 0?void 0:e.enableTTSNeverSetting,!1),ib=t(e===null||e===void 0?void 0:e.enableCustomizedTtsOptions,!1),lf=t(e===null||e===void 0?void 0:e.enableSimpleVoiceInput,!1),af=t(e===null||e===void 0?void 0:e.enableSpeechDictationMode,!1),vf=t(e===null||e===void 0?void 0:e.enableAudioPreloadLimit,!1),yf=t(e===null||e===void 0?void 0:e.enableSpeechFateTTSStop,!1),bf=t(e===null||e===void 0?void 0:e.enableSpeechGetUserMedia,!1),rb=t(e===null||e===void 0?void 0:e.enableSydCLOC,!1),ub=t(e===null||e===void 0?void 0:e.enableCdxFeats,!1),kf=t(e===null||e===void 0?void 0:e.cdxFeats,""),fb=t(e===null||e===void 0?void 0:e.disableSecureUpdateConversation,!1),eb=t(e===null||e===void 0?void 0:e.disableSecureSendFeedback,!1),ob=t(e===null||e===void 0?void 0:e.enableFdbkFinalized,!1),sb=t(e===null||e===void 0?void 0:e.enableSemSerpShare,!1),hb=t(e===null||e===void 0?void 0:e.enableCreatorShare,!1),cb=t(e===null||e===void 0?void 0:e.enableShareModalDialog,!1),df=t(e===null||e===void 0?void 0:e.enableSydImageCreate,!1),gf=t(e===null||e===void 0?void 0:e.enableSunoMusicCreate,!1),ue=t(e===null||e===void 0?void 0:e.enableSunoMusicInst,!1),lb=t(e===null||e===void 0?void 0:e.enableSecureConnect,!0),fe=t(e===null||e===void 0?void 0:e.enableInstanceAffinity,!1),ee=t(e===null||e===void 0?void 0:e.enableGetMessagesHub,!1),ab=t(e===null||e===void 0?void 0:e.enableShortOpt,!1),vb=t(e===null||e===void 0?void 0:e.enablePuidOvr,!1),we=t(e===null||e===void 0?void 0:e.enablePerfTrk,!1),yb=t(e===null||e===void 0?void 0:e.enableEmbeddedPerf,!1),be=t(e===null||e===void 0?void 0:e.enableSinglePerfEventPerMessage,!1),pb=t(e===null||e===void 0?void 0:e.enableE2EPerf,!1),wb=t(e===null||e===void 0?void 0:e.enableCCPPerf,!1),de=t(e===null||e===void 0?void 0:e.enableFixScrollBackSerpAccidentally,!1),ge=t(e===null||e===void 0?void 0:e.enableUnauthRedir,!1),no=t(e===null||e===void 0?void 0:e.enableNewChatIconInActionBar,!1),ro=t(e===null||e===void 0?void 0:e.enableActionBarV2,!1),ir=t(e===null||e===void 0?void 0:e.speechSurface,""),uo=t(e===null||e===void 0?void 0:e.enableSpeechDictationBridgeMode,!1),fr=t(e===null||e===void 0?void 0:e.enableSpeculativeMode,!1),fo=t(e===null||e===void 0?void 0:e.enableReadAloudMessage,!1),eo=t(e===null||e===void 0?void 0:e.enableReadAloudOptions,!1),oo=t(e===null||e===void 0?void 0:e.enableSpeechTouchStart,!1),so=t(e===null||e===void 0?void 0:e.enableReadAloudOnDeepLeoOnly,!1),ho=t(e===null||e===void 0?void 0:e.enableReadAloudFixV1,!1),bb=t(e===null||e===void 0?void 0:e.bypassMicPermissionsQuery,!1),lo=t(e===null||e===void 0?void 0:e.enableSpeechLanguageSetting,!1),ao=t(e===null||e===void 0?void 0:e.enableSpeechAutoDetectLanguage,!1),kb=t(e===null||e===void 0?void 0:e.enableWhisperSR,!1),vo=t(e===null||e===void 0?void 0:e.enableSpeechLogNoiseReduction,!1),db=t(e===null||e===void 0?void 0:e.enableAutoReopenMic,!1),yo=t(e===null||e===void 0?void 0:e.enableAutoReopenMicTTSStopped,!1),po=t(e===null||e===void 0?void 0:e.enableAccentedIconsOnMobileABV2,!1),wo=t(e===null||e===void 0?void 0:e.enableAltVoiceQuerySubmissionOnMobileABV2,!1),bo=t((dt=_w._sydConvConfig)===null||dt===void 0?void 0:dt.enableMockMicListeningState,!1),ko=t((gt=_w._sydConvConfig)===null||gt===void 0?void 0:gt.enableMockMicBlockedState,!1),go=t((ni=_w._sydConvConfig)===null||ni===void 0?void 0:ni.enableRecogFailedLogNoiseReduction,!1),ns=t((ti=_w._sydConvConfig)===null||ti===void 0?void 0:ti.enableSpeculativeModeJSErrorChecks,!1),ts=t((ii=_w._sydConvConfig)===null||ii===void 0?void 0:ii.enableMicRestIconWhenListening,!1),gb=t((ui=_w._sydConvConfig)===null||ui===void 0?void 0:ui.enableAutoDetectLanguageNotification,!1),is=t((fi=_w._sydConvConfig)===null||fi===void 0?void 0:fi.enableAutoDetectLanguageNotificationTest,!1),nk=t((si=_w._sydConvConfig)===null||si===void 0?void 0:si.enableReopenMicNotification,!1),tk=t((hi=_w._sydConvConfig)===null||hi===void 0?void 0:hi.enableReopenMicNotificationTest,!1),rs=t(e===null||e===void 0?void 0:e.enableSpeechErrorHandling,!1),us=t(e===null||e===void 0?void 0:e.enableSpeechAriaLabel,!1),ik=t(e===null||e===void 0?void 0:e.enableSpeechReopenMic,!1),fs=t(e===null||e===void 0?void 0:e.enableSpeechTTSLatencyLogging,!1),es=t(e===null||e===void 0?void 0:e.enableSpeechInputWhileRequestIsPending,!1),os=t(e===null||e===void 0?void 0:e.enableSpeechIconDarkTheme,!1),rk=t(e===null||e===void 0?void 0:e.enableNewTopicAutoExpand,!1),uk=t(e===null||e===void 0?void 0:e.enableMaxTurnsPerConversation,!1),fk=t(e===null||e===void 0?void 0:e.enableAmberTurnPerConversation,!1),ek=t(e===null||e===void 0?void 0:e.enableDynamicMaxMessageLength,!1),ss=t(e===null||e===void 0?void 0:e.maxMessageLength,p),ok=t(e===null||e===void 0?void 0:e.maxMessageLengthBalanced,p),sk=t(e===null||e===void 0?void 0:e.maxMessageLengthCreative,p),hk=t(e===null||e===void 0?void 0:e.maxMessageLengthPrecise,p),ck=t(e===null||e===void 0?void 0:e.isAccountLinkedWithActiveAAD,!1),lk=t(e===null||e===void 0?void 0:e.enableThreadsAADMSASwitch,!1),hs=t(e===null||e===void 0?void 0:e.enableTelemetryPrivacy,!1),ak=t(e===null||e===void 0?void 0:e.enableSydSafeSearch,!1),vk=t(e===null||e===void 0?void 0:e.enableFeedbackClientSideScreenshot,!1),yk=t(e===null||e===void 0?void 0:e.enablePrivacyConsent,!0),pk=t(e===null||e===void 0?void 0:e.syntheticStreamSpeed,ri),wk=t(e===null||e===void 0?void 0:e.disableShareWithNoMargin,!1),bk=t(e===null||e===void 0?void 0:e.enableMobileShareAnchorBottom,!1),kk=t(e===null||e===void 0?void 0:e.enableCreativeLandingPage,!1),dk=t(e===null||e===void 0?void 0:e.enableServerLogMerging,!1),cs=t(e===null||e===void 0?void 0:e.enableOneClickCopy,!1),ls=t(e===null||e===void 0?void 0:e.enableReorderCopiedTextReferences,!1),ys=t(e===null||e===void 0?void 0:e.enableCodeCopy,!1),ps=t(e===null||e===void 0?void 0:e.enableCodeBar,!1),ws=t(e===null||e===void 0?void 0:e.enableCodeBarV2,!1),bs=t(e===null||e===void 0?void 0:e.enableUserMessageCopy,!1),ks=t(e===null||e===void 0?void 0:e.enableRichTextPaste,!1),ds=t(e===null||e===void 0?void 0:e.enablePasteMarkdownTable,!1),gs=t(e===null||e===void 0?void 0:e.enablePasteMath,!1),gk=t(e===null||e===void 0?void 0:e.enableMobileOneClickShare,!1),nd=t(e===null||e===void 0?void 0:e.enableMobileOneClickShareV2,!1),td=t(e===null||e===void 0?void 0:e.enableFeedbackInstrumentation,!1),id=t(e===null||e===void 0?void 0:e.enableSuggEndFix,!1),rd=t(e===null||e===void 0?void 0:e.enableAutoRecoverFromInvalidSession,!1),ud=t(e===null||e===void 0?void 0:e.enableAutoRecoverFromInvalidSessionForFirstTurn,!1),fd=t(e===null||e===void 0?void 0:e.enableActionBarIMEFix,!1),ed=t(e===null||e===void 0?void 0:e.enableGhostTrailingSpaceByLanguage,!1),nh=t(e===null||e===void 0?void 0:e.enableInlineFeedback,!1),th=t(e===null||e===void 0?void 0:e.enableInlineFeedbackV2,!1),ih=t(e===null||e===void 0?void 0:e.enableInlineFeedbackV21,!1),rh=t(e===null||e===void 0?void 0:e.enableSerpFeedback,!1),uh=t(e===null||e===void 0?void 0:e.enableMessageSave,!1),fh=t(e===null||e===void 0?void 0:e.enableMoreOnBotMessageActionsBar,!1),eh=t(e===null||e===void 0?void 0:e.enableMessageExport,!1),oh=t(e===null||e===void 0?void 0:e.enableMessageExportWithPlainText,!1),sh=t(e===null||e===void 0?void 0:e.enableHandoffAPI,!1),hh=t(e===null||e===void 0?void 0:e.enableSearchOnBingForBotMessage,!1),ch=t(e===null||e===void 0?void 0:e.enableMessageExportOnlineWord,!1),od=t(e===null||e===void 0?void 0:e.enableMessageExportWord,!1),lh=t(e===null||e===void 0?void 0:e.enableMessageExportOnlineExcel,!1),ah=t(e===null||e===void 0?void 0:e.enableMessageExportLocalExcel,!1),vh=t(e===null||e===void 0?void 0:e.enableTableBarFlatActions,!1),sd=t(e===null||e===void 0?void 0:e.enableThreadExportLocalWord,!1),yh=t(e===null||e===void 0?void 0:e.enableThreadExportOnlineWord,!1),ph=t(e===null||e===void 0?void 0:e.enableMessageExportV2,!1),wh=t(e===null||e===void 0?void 0:e.enableBotMessageActionsBar,!1),bh=t(e===null||e===void 0?void 0:e.enableShorterToastDuration,!1),kh=t(e===null||e===void 0?void 0:e.enableDirectlyOpenExportOnlineLink,!1),dh=t(e===null||e===void 0?void 0:e.enableLoginHintForSSO,!1),hot=t(e===null||e===void 0?void 0:e.enableLimitToMsaOnlineExport,!1),cot=t(e===null||e===void 0?void 0:e.enableLimitToAadOnlineExport,!1),gh=t(e===null||e===void 0?void 0:e.enableTonePreview,!1),nc=t(e===null||e===void 0?void 0:e.enableMSAuth1stPartyApp,!1),tc=t(e===null||e===void 0?void 0:e.enableAdsRedirectLinkForTextMessage,!1),ic=t(e===null||e===void 0?void 0:e.enableCopyHtml,!1),rc=t(e===null||e===void 0?void 0:e.enableCopyHtmlWithHighlightedCode,!1),uc=t(e===null||e===void 0?void 0:e.enableExportPdfWithAnswerScreenshot,!1),fc=t(e===null||e===void 0?void 0:e.enableExportDocxWithAnswerScreenshot,!1),ec=t(e===null||e===void 0?void 0:e.enableLibrariesSplitImport,!1),oc=t(e===null||e===void 0?void 0:e.enableFlatActionBar,!1),sc=t(e===null||e===void 0?void 0:e.codexMUIDUser,!1),hc=t(e===null||e===void 0?void 0:e.enableChatIconClickable,!1),cc=t(e===null||e===void 0?void 0:e.enableChatQueryClickable,!1),lc=t(e===null||e===void 0?void 0:e.enableChatQueryClickableV2,!1),ac=t(e===null||e===void 0?void 0:e.enableChatQueryClickableV3,!1),vc=t(e===null||e===void 0?void 0:e.enableChatQueryClickableV4,!1),yc=t(e===null||e===void 0?void 0:e.enableShareQuestionWithResponse,!1),pc=t(e===null||e===void 0?void 0:e.enableDynamicShareTitle,!1),wc=t(e===null||e===void 0?void 0:e.enableShareQuestionTitlePrefix,!1),bc=t(e===null||e===void 0?void 0:e.enableShareInlineAdsIframe,!1),kc=t(e===null||e===void 0?void 0:e.enableSharePreview,!1),dc=t(e===null||e===void 0?void 0:e.enableSharedHoverCitations,!1),gc=t(e===null||e===void 0?void 0:e.enableShowShareButtonWithSecurityCheck,!1),nl=t(e===null||e===void 0?void 0:e.enableScreenshotIgnoreOnCibSerp,!1),tl=t(e===null||e===void 0?void 0:e.enableStandaloneUtility,!1),il=t(e===null||e===void 0?void 0:e.enableCPPRRUpsell,!1),rl=t(e===null||e===void 0?void 0:e.enableWelcomeCopilotProButton,!1);n.enableCreatorSendQueryWhenShowConvQuery=t(e===null||e===void 0?void 0:e.enableCreatorSendQueryWhenShowConvQuery,!0);n.padding2TMobile=t(e===null||e===void 0?void 0:e.padding2TMobile,!0);pi=t(e===null||e===void 0?void 0:e.enableSetConvQueryFlag,!1);g=t((vi=_w._sydConvTranslation)===null||vi===void 0?void 0:vi.pageTitleText,"");nt=document.title||"";l=a?ef:ei;n.enableConvModeSwitchAjax=t(e===null||e===void 0?void 0:e.enableConvModeSwitchAjax,!1);n.enableBingChatPath=t(e===null||e===void 0?void 0:e.enableBingChatPath,!1);var lot=t(e===null||e===void 0?void 0:e.enableCodexWin,!1),aot=t(e===null||e===void 0?void 0:e.enableCodexWinBotMessage,!1),vot=t(e===null||e===void 0?void 0:e.codexWinCurrentTurn,0),hd=t(e===null||e===void 0?void 0:e.enableGetChats,!1),cd=t(e===null||e===void 0?void 0:e.enableDelayGetChats,!1),ul=t(e===null||e===void 0?void 0:e.enableNewTables,!1),ld=t(e===null||e===void 0?void 0:e.codexTableVersion,1),fl=t(e===null||e===void 0?void 0:e.enableBufferMessage,!1),el=t(e===null||e===void 0?void 0:e.enableBufferLoadingDots,!1),ol=t(e===null||e===void 0?void 0:e.enableServerMetaText,!1),sl=t(e===null||e===void 0?void 0:e.enableCodeInterpreterPreviewCode,!1),hl=t(e===null||e===void 0?void 0:e.enableGPTCreatorItemContextMenu,!1),ad=t(e===null||e===void 0?void 0:e.enableGPTCreator,!1),vd=t(e===null||e===void 0?void 0:e.enableGptWelcomeInitLoad,!1),yd=t(e===null||e===void 0?void 0:e.isGptCreator,!1),cl=t(e===null||e===void 0?void 0:e.gptCreatorCopilotCreatorPath,!1),ll=t(e===null||e===void 0?void 0:e.gptCreatorBingPreviewPath,!1),al=t(e===null||e===void 0?void 0:e.gptCreatorSharePath,!1),vl=t(e===null||e===void 0?void 0:e.enableMock3PGpts,!1),yl=t(e===null||e===void 0?void 0:e.enableGPTCreatorCreateGptPreview,!1),pd=t(e===null||e===void 0?void 0:e.enableCopilotGptsPolicyLink,!1),pl=t(e===null||e===void 0?void 0:e.enableOptimizedStreaming,!1),wd=t(e===null||e===void 0?void 0:e.enableExportDocxWithFormat,!1),bd=t(e===null||e===void 0?void 0:e.enableExportDocxWithTableFormat,!1),kd=t(e===null||e===void 0?void 0:e.enableDisposeOrphanedHosts,!1),dd=t(e===null||e===void 0?void 0:e.enablePreserveTextFormat,!1),gd=t(e===null||e===void 0?void 0:e.enableHoverCardOnLearnMorePills,!1),ng=t(e===null||e===void 0?void 0:e.enableWowCDSSurvey,!1),wl=t(e===null||e===void 0?void 0:e.enableSydBeacon,!1),tg=t(e===null||e===void 0?void 0:e.enableShareOnHostMessage,!1),ig=t(e===null||e===void 0?void 0:e.disablePassBotGreetingInContext,!1),bl=t(e===null||e===void 0?void 0:e.enableThreadContextMenu,!1),rg=t(e===null||e===void 0?void 0:e.enableCloudflareCaptcha,!1),ug=t(e===null||e===void 0?void 0:e.enableInvisibleCaptchaChallenge,!1),fg=t(e===null||e===void 0?void 0:e.enableResizeObserverWithAnimationFrame,!1),eg=t(e===null||e===void 0?void 0:e.enableKnowledgeCardImage,!1),kl=t(e===null||e===void 0?void 0:e.enableStartPromotion,!1),og=t(e===null||e===void 0?void 0:e.enableCopyButtonInstrumented,!1),dl=t(e===null||e===void 0?void 0:e.enableThreads,!1),sg=t(e===null||e===void 0?void 0:e.enableThreadSync,!1),hg=t(e===null||e===void 0?void 0:e.enableMobileKnowledgeCardOverlay,!1),cg=t(e===null||e===void 0?void 0:e.enableCibOverlayForKnowledgeCard,!1),lg=t(e===null||e===void 0?void 0:e.enableKCAdaptiveCardUpdate,!1),ag=t(e===null||e===void 0?void 0:e.enablePluginsByTone,!1),yot=t(e===null||e===void 0?void 0:e.flux3PPluginList,""),gl=t(e===null||e===void 0?void 0:e.disableWelcomeScreen,!1),vg=t(e===null||e===void 0?void 0:e.enableWelcomeScreenV2,!1),yg=t(e===null||e===void 0?void 0:e.enableWelcomeScreenV3,!1),pg=t(e===null||e===void 0?void 0:e.enableChatFRE,!1),na=t(e===null||e===void 0?void 0:e.disableZIRMSStart,!1),ta=t(e===null||e===void 0?void 0:e.enableWebPageContextMessages,!1),wg=t(e===null||e===void 0?void 0:e.enableCodexPluginb,!1),bg=t(e===null||e===void 0?void 0:e.enableNewAutoSuggestEndPoint,!1),kg=t(e===null||e===void 0?void 0:e.enable2TQueryConfigsOnSerpLoad,!1),dg=t(e===null||e===void 0?void 0:e.enableSydStaticAdsLink,!1),gg=t(e===null||e===void 0?void 0:e.isMobileHost,!1),nn=t(e===null||e===void 0?void 0:e.enableRenderCardRequestIMSearchParams,!1),ia=t(e===null||e===void 0?void 0:e.enableMessagePrivacy,!1),ra=t(e===null||e===void 0?void 0:e.enableCloseShareOnClickOutside,!1),tn=t(e===null||e===void 0?void 0:e.enableTypingIndicatorForSerpSlotCreator,!1),rn=t(e===null||e===void 0?void 0:e.enableOnProcessingStartEvent,!1),un=t(e===null||e===void 0?void 0:e.enableOnProcessingCompleteEvent,!1),ua=t(e===null||e===void 0?void 0:e.enableUpdateProfile,!1),fn=t(e===null||e===void 0?void 0:e.enableTypewriter,!1),fa=t(e===null||e===void 0?void 0:e.sydRequestSource,""),en=t(e===null||e===void 0?void 0:e.enableConfirmPromptSingleDeleteThread,!1),on=!t(e===null||e===void 0?void 0:e.disableTooltip,!1),sn=t(e===null||e===void 0?void 0:e.enableNewlineTooltip,!1),hn=t(e===null||e===void 0?void 0:e.enableDeferredImageCreatorCard,!1),cn=t(e===null||e===void 0?void 0:e.enableSaharaStream,!1),ln=t(e===null||e===void 0?void 0:e.enableFaviconsV2,!1),an=t(e===null||e===void 0?void 0:e.enableFaviconsAutoRefresh,!1),vn=t(e===null||e===void 0?void 0:e.enableCachedContentFixForIsStartOfSession,!1),yn=t(e===null||e===void 0?void 0:e.enableUserIpAddress,!1),pn=t(e===null||e===void 0?void 0:e.enableLooseMessageDensity,!1),wn=t(e===null||e===void 0?void 0:e.enablePassSydedgForMobile,!1),ea=t(e===null||e===void 0?void 0:e.enableSuggestionItemEnterAnimation,!1),oa=t(e===null||e===void 0?void 0:e.enableKatexScroll,!1),bn=t(e===null||e===void 0?void 0:e.enableLinkPreviewCarousel,!1),kn=t(e===null||e===void 0?void 0:e.useFakeDataForLinkPreviewCarousel,!1),sa=t(e===null||e===void 0?void 0:e.enablePageHeaderOverlapClamping,!1),dn=t(e===null||e===void 0?void 0:e.enableThreadShowPlugins,!1),gn=t(e===null||e===void 0?void 0:e.enableUpdateUserMessageId,!1),ntt=t(e===null||e===void 0?void 0:e.enableUserMessageIdConsistency,!1),ttt=t(e===null||e===void 0?void 0:e.enablePluginPanelFre,!1),itt=t(e===null||e===void 0?void 0:e.enablePersistentInputText,!1),ha=t(e===null||e===void 0?void 0:e.enableEmptyThreadTime,!1),rtt=t(e===null||e===void 0?void 0:e.enableRenderIframeCardRequest,!1),ca=t(e===null||e===void 0?void 0:e.enableBackendExportService,!1),utt=t(e===null||e===void 0?void 0:e.enableFastChatLoadAnimation,!1),ftt=t(e===null||e===void 0?void 0:e.enableShareInThreadsHeader,!0),pot=t(e===null||e===void 0?void 0:e.enableExternalSpeechIconAnimation,!1),ett=t(e===null||e===void 0?void 0:e.enableNewConversationActivate,!1),la=t(e===null||e===void 0?void 0:e.enableInPrivateUserMode,!1),ott=t(e===null||e===void 0?void 0:e.enableMobileFirstClickShare,!1),stt=t(e===null||e===void 0?void 0:e.enableMessageTypeCheck,!1),aa=t(e===null||e===void 0?void 0:e.enableSydneyGetMessagesHub,!1),htt=t(e===null||e===void 0?void 0:e.enableInlinePersonalizationConsent,!1),ctt=t(e===null||e===void 0?void 0:e.enableInlinePersonalizationConsentCopilotLogo,!1),ltt=t(e===null||e===void 0?void 0:e.enableInlinePersonalizationConsentCallback,!1),att=t(e===null||e===void 0?void 0:e.personalizationInlineConsentTurn,hu),va=t(e===null||e===void 0?void 0:e.enableEduStarterMessage,!1),vtt=t(e===null||e===void 0?void 0:e.enableEduStarterMessageAnimation,!1),ytt=t(e===null||e===void 0?void 0:e.enablePhonePlugin,!1),ptt=t(e===null||e===void 0?void 0:e.enablePhonePluginDogfoodEnvironment,!1),wtt=t(e===null||e===void 0?void 0:e.enablePhonePluginBetaEnvironment,!1),btt=t(e===null||e===void 0?void 0:e.enablePhonePluginProductionEnvironment,!1),ktt=t(e===null||e===void 0?void 0:e.disablePhonePluginInPreciseTone,!1),dtt=t(e===null||e===void 0?void 0:e.disablePhonePluginInBalancedTone,!1),gtt=t(e===null||e===void 0?void 0:e.disablePhonePluginInCreativeTone,!1),nit=t(e===null||e===void 0?void 0:e.enableDonationPlugin,!1),tit=t(e===null||e===void 0?void 0:e.enableDonationPluginDogfood,!1),iit=t(e===null||e===void 0?void 0:e.enableDonationPluginProd,!1),rit=t(e===null||e===void 0?void 0:e.enableM365consumerPlugin,!1),uit=t(e===null||e===void 0?void 0:e.enableM365consumerPluginDogfood,!1),fit=t(e===null||e===void 0?void 0:e.enableM365consumerPluginProd,!1),eit=t(e===null||e===void 0?void 0:e.enableAdaptiveCardMessage,!1),ya=t(e===null||e===void 0?void 0:e.enableVersionedApiCalls,!1),pa=t(e===null||e===void 0?void 0:e.enableJWTFTRFix,!1),oit=t(e===null||e===void 0?void 0:e.enablePaywallTelemetryFix,!1),sit=t(e===null||e===void 0?void 0:e.enableNoBingSearchResponseBackground,!1),hit=t(e===null||e===void 0?void 0:e.enableNoSearchPluginMetaMessage,!1),wa=t(e===null||e===void 0?void 0:e.enableOpenEdgeNotification,!1),ba=t(e===null||e===void 0?void 0:e.enableSuppressSigninMessage,!1),cit=t(e===null||e===void 0?void 0:e.enableRereadMetaAcc,!1),lit=t(e===null||e===void 0?void 0:e.enableKeyboardNav,!1),ka=t(e===null||e===void 0?void 0:e.enableExportPdfWithRichFormat,!1),da=t(e===null||e===void 0?void 0:e.enableAttributionImages,!1),ga=t(e===null||e===void 0?void 0:e.enableAttributionImagesWhenAdsPresent,!1),nv=t(e===null||e===void 0?void 0:e.enableAttributionImagesCarousel,!1),tv=t(e===null||e===void 0?void 0:e.enableAttributionImagesClickthrough,!1),iv=t(e===null||e===void 0?void 0:e.enableThreadsConsent,!1),ait=t(e===null||e===void 0?void 0:e.enableMutedThreadsConsent,!1),rv=t(e===null||e===void 0?void 0:e.enableDeleteSingleConversationMemory,!1),vit=t(e===null||e===void 0?void 0:e.enableNoScrollDownOnInit,!1),yit=t(e===null||e===void 0?void 0:e.enableFormCodeBingUrl,!1),pit=t(e===null||e===void 0?void 0:e.enableRelativeSignInUrl,!1),wit=t(e===null||e===void 0?void 0:e.enableThreadsTopRightButton,!1),bit=t(e===null||e===void 0?void 0:e.enablePluginsTopRightButton,!1),uv=t(e===null||e===void 0?void 0:e.enableOneDs,!1),kit=t(e===null||e===void 0?void 0:e.enableBceMuidConsent,!1),dit=t(e===null||e===void 0?void 0:e.enableBfbCookieConsent,!1),fv=t(e===null||e===void 0?void 0:e.enableThreadContextMenuV2,!1),ev=t(e===null||e===void 0?void 0:e.enableSearchBoxAutoFocus,!1),ov=t(e===null||e===void 0?void 0:e.enableUserMessageRewriteInsteadOfCopy,!1),sv=t(e===null||e===void 0?void 0:e.enableUserMessageRewriteAndCopy,!1),hv=t(e===null||e===void 0?void 0:e.enableSendFeedback,!1),cv=t(e===null||e===void 0?void 0:e.enableSearchUserMessageOnBing,!1),lv=t(e===null||e===void 0?void 0:e.enableEditLastUserMessage,!1),av=t(e===null||e===void 0?void 0:e.enableHideLastUserMessageInEdit,!1),vv=t(e===null||e===void 0?void 0:e.enablePrivateThreadDefaultTitle,!1),yv=t(e===null||e===void 0?void 0:e.enablePromptHandling,!1),git=t(e===null||e===void 0?void 0:e.enableU18Scenario,!1),er=t(e===null||e===void 0?void 0:e.isCCP,!1),nrt=t(e===null||e===void 0?void 0:e.enablePluginDevTools,!1),trt=t(e===null||e===void 0?void 0:e.enablePluginCSRF,!1),pv=t(e===null||e===void 0?void 0:e.enableModeAndSlotValidationForAds,!1),irt=t(e===null||e===void 0?void 0:e.enableLogNoChatVariant,!1),rrt=t(e===null||e===void 0?void 0:e.enableVersionPrompt,!1),urt=t(e===null||e===void 0?void 0:e.enableAttributionsV2,!1),frt=t(e===null||e===void 0?void 0:e.enableLearnMoreCards,!1),wv=t(e===null||e===void 0?void 0:e.enableInlineComponents,!1),bv=t(e===null||e===void 0?void 0:e.enableSuggestionChipDisplayText,!1),ert=t(e===null||e===void 0?void 0:e.enableLinkPreviewFailureTelemetry,!1),ort=t(e===null||e===void 0?void 0:e.enableLinkPreviewAppIdV2,!1),hr=t(e===null||e===void 0?void 0:e.enableWpFluxTwoTAnswerCard,!1),kv=t(e===null||e===void 0?void 0:e.disableWpFluxTwoTAnswerCardFallback,!1),srt=t(e===null||e===void 0?void 0:e.enableBICRelativeBaseUrl,!1),dv=t(e===null||e===void 0?void 0:e.isCopilotChat,!1),hrt=t(e===null||e===void 0?void 0:e.enableCitationsOnSentences,!1),gv=t(e===null||e===void 0?void 0:e.enableWelcomeItemEnterAnimation,!1),ny=t(e===null||e===void 0?void 0:e.enableToneSelectorAsDropdown,!1),ty=t(e===null||e===void 0?void 0:e.enableSidePanelPositionInlineStart,!1),iy=t(e===null||e===void 0?void 0:e.enableSidePanelAsPersistent,!1),ry=t(e===null||e===void 0?void 0:e.enableSidePanelVisibilityTrigger,!1),uy=t(e===null||e===void 0?void 0:e.enableSidePanelCustomScrollbar,!1),fy=t(e===null||e===void 0?void 0:e.enableConversationCustomScrollbar,!1),ey=t(e===null||e===void 0?void 0:e.enableConversationAlignmentTop,!1),oy=t(e===null||e===void 0?void 0:e.enableSimpleCopilotWelcomeScreen,!1),sy=t(e===null||e===void 0?void 0:e.enableThreadsHoverDescriptor,!1),crt=t(e===null||e===void 0?void 0:e.enableAnswerCards,!0),hy=t(e===null||e===void 0?void 0:e.enableMessagesWithInternalLoadAnimation,!1),cy=t(e===null||e===void 0?void 0:e.enableHideRAISuggestionIcon,!1),ly=t(e===null||e===void 0?void 0:e.enableMuidDisabledSuggestionBar,!1),ay=t(e===null||e===void 0?void 0:e.enableConversationToActionBarFocusOrder,!1),wot=t(e===null||e===void 0?void 0:e.enableBopCustomGreeting,!1),lrt=t(e===null||e===void 0?void 0:e.enableCopilotFullScreenUX,!1),vy=t(e===null||e===void 0?void 0:e.enableBufferClearOnReset,!1),yy=t(e===null||e===void 0?void 0:e.enableCancelPendingRequestOnNewMessage,!1),art=t(e===null||e===void 0?void 0:e.enablePluginChatModeOnly,!1),py=t(e===null||e===void 0?void 0:e.enableThreadsArrowNav,!1),wy=t(e===null||e===void 0?void 0:e.disableTitlePreviewLabel,!1),by=t(e===null||e===void 0?void 0:e.disableTurnCount,!1),vrt=t(e===null||e===void 0?void 0:e.enableBingProxyApiForSingleDeleteInThreads,!1);gi=n.getConfigOrDefault((yi=_w._sydConvConfig)===null||yi===void 0?void 0:yi.extraNotebookOptionsSets,"");var yrt=t(e===null||e===void 0?void 0:e.enableSilentUpdateConversationFail,!1),ky=t(e===null||e===void 0?void 0:e.enableGraphicArtJsonResponse,!1),prt=t(e===null||e===void 0?void 0:e.enableInlineTwoTAnswer,!1),dy=t(e===null||e===void 0?void 0:e.enableFreeSydney,!1),wrt=t(e===null||e===void 0?void 0:e.enableFreeSydneyNonSigned,!1),brt=t(e===null||e===void 0?void 0:e.enable1P3PGPTsGreeting,!1),gy=t(e===null||e===void 0?void 0:e.enableFreeSydneyV2Style,!1),np=t(e===null||e===void 0?void 0:e.enableCustomGptPreview,!1),tp=t(e===null||e===void 0?void 0:e.enableShortShareUrl,!1),krt=t(e===null||e===void 0?void 0:e.defaultMaxPersonaCount,6),cr=t(e===null||e===void 0?void 0:e.isBingUserSignedIn,!1),ft=t(e===null||e===void 0?void 0:e.enableFlux3P,!1),drt=t(e===null||e===void 0?void 0:e.f3pMsaAccountOnly,!1),bot=t(e===null||e===void 0?void 0:e.isUnderside,!1),grt=t(e===null||e===void 0?void 0:e.enableF3pNoSearchBgFix,!1),nut=t(e===null||e===void 0?void 0:e.enablePluginCopilot,!1),tut=t(e===null||e===void 0?void 0:e.enableSearchPluginOnTop,!1),iut=t(e===null||e===void 0?void 0:e.enablePluginDiscovery,!1),ip=t(e===null||e===void 0?void 0:e.enableInstService,!1),rut=t(e===null||e===void 0?void 0:e.enablePluginRevocation,!1),uut=t(e===null||e===void 0?void 0:e.enableSearchPlugins,!1),rp=t(e===null||e===void 0?void 0:e.sydneyFeedbackVertical,""),fut=t(e===null||e===void 0?void 0:e.enableUndersideTopRightButtonBugFix,!1),eut=t(e===null||e===void 0?void 0:e.enableDefaultGptsOnMobile,!1),up=t(e===null||e===void 0?void 0:e.enableEnterToCreateNewLine,!1),out=t(e===null||e===void 0?void 0:e.enableUpdateLocationButton,!1),sut=t(e===null||e===void 0?void 0:e.enableLocationMetaMessage,!1),fp=t(e===null||e===void 0?void 0:e.enableTextMessageDelayedFinalization,!1),ep=t(e===null||e===void 0?void 0:e.enableNewTopicButtonFeature,!1),hut=t(e===null||e===void 0?void 0:e.enableFullScreenIframe,!1),cut=t(e===null||e===void 0?void 0:e.enableDelayedMsgHandlerDisposal,!1),op=t(e===null||e===void 0?void 0:e.enableChangeSidePanelVisibility,!1),lut=t(e===null||e===void 0?void 0:e.enableMuidRobustnessFix,!1),aut=t(e===null||e===void 0?void 0:e.enableHideTypingIndicatorOnError,!1),vut=t(e===null||e===void 0?void 0:e.enableLearnmoreAsHeader,!1),yut=t(e===null||e===void 0?void 0:e.enableRaiButtonTooltip,!1),put=t(e===null||e===void 0?void 0:e.enableResetFocusLossFix,!1),wut=t(e===null||e===void 0?void 0:e.disableTurnCountLocalAccount,!1),but=t(e===null||e===void 0?void 0:e.enableWindowsCopilot,!1),kut=t(e===null||e===void 0?void 0:e.enableGoldilocks,!1),dut=t(e===null||e===void 0?void 0:e.enableGoldilocksRAIButton,!1),gut=t(e===null||e===void 0?void 0:e.enableGoldilocksStrokes,!1),nft=t(e===null||e===void 0?void 0:e.enableGoldiLocksBackgroundLight,!1),tft=t(e===null||e===void 0?void 0:e.enableGoldilocksLineHeight,!1),ift=t(e===null||e===void 0?void 0:e.enableCitationSuperscriptFix,!1),rft=t(e===null||e===void 0?void 0:e.enableGoldilocksMetaMessage,!1),uft=t(e===null||e===void 0?void 0:e.enableTopAlignConversation,!1),fft=t(e===null||e===void 0?void 0:e.enableHideZeroTurn,!1),eft=t(e===null||e===void 0?void 0:e.enableMessageGroupHeader,!1),oft=t(e===null||e===void 0?void 0:e.enableFullWidthMessages,!1),sft=t(e===null||e===void 0?void 0:e.enableInlineStreamingIndicator,!1),hft=t(e===null||e===void 0?void 0:e.enableGoldilocksAttributionPills,!1),cft=t(e===null||e===void 0?void 0:e.enableGoldilocksMessageActions,!1),lft=t(e===null||e===void 0?void 0:e.enableGoldilocksTurnCounter,!1),aft=t(e===null||e===void 0?void 0:e.enableGoldilocksStrokes2T,!1),vft=t(e===null||e===void 0?void 0:e.enableGoldilocksCitations,!1),yft=t(e===null||e===void 0?void 0:e.enableGoldilocksWiderActionBar,!1),pft=t(e===null||e===void 0?void 0:e.enableGoldilocksExportDropdown,!1),wft=t(e===null||e===void 0?void 0:e.enableDefaultBalancedtone,!1),bft=t(e===null||e===void 0?void 0:e.enableEmptyToneDebugLogs,!1),kft=t(e===null||e===void 0?void 0:e.enableGoldilocksInlineFeedback,!1),dft=t(e===null||e===void 0?void 0:e.enableGoldilocksUserMsgActionBar,!1),gft=t(e===null||e===void 0?void 0:e.enableGoldilocksContextual,!1),kot=t(e===null||e===void 0?void 0:e.enableGoldilocksSydneyAction,!1),net=t(e===null||e===void 0?void 0:e.enableGoldilocksPersistentMetas,!1),tet=t(e===null||e===void 0?void 0:e.enableGoldilocksInlinePersistentMetas,!1),iet=t(e===null||e===void 0?void 0:e.enableGoldilocksBackgroundGpt,!1),ret=t(e===null||e===void 0?void 0:e.enableGoldilocksIdentity,!1),uet=t(e===null||e===void 0?void 0:e.enableAdaptiveCardImageForCodeInterpreter,!1),fet=t(e===null||e===void 0?void 0:e.enableGoldilocksCopilotGreetingFix,!1),eet=t(e===null||e===void 0?void 0:e.enableRegisterContextAsync,!1),oet=t(e===null||e===void 0?void 0:e.enableStreamingInBackground,!1),set=t(e===null||e===void 0?void 0:e.enablePrefetchConversationToken,!1),het=t(e===null||e===void 0?void 0:e.enableConnectionProvider,!1),cet=t(e===null||e===void 0?void 0:e.enableGptCreatorCreatePanel,!1),aet=t(e===null||e===void 0?void 0:e.enableGptCreatorConfigurePanel,!1),vet=t(e===null||e===void 0?void 0:e.enableGptCreatorConfigurePanelKnowledges,!0),sp=t(e===null||e===void 0?void 0:e.enableGptCreatorConfigurePanelcapabilities,!0),yet=t(e===null||e===void 0?void 0:e.enableGptCreatorConfigurePanelImageGenerator,!0),pet=t(e===null||e===void 0?void 0:e.enableGptCreatorConfigurePanelCodeInterpreter,!1),wet=t(e===null||e===void 0?void 0:e.enableGptCreatorConfigurePanelIconUpload,!1),bet=t(e===null||e===void 0?void 0:e.userAnID,""),ket=t(e===null||e===void 0?void 0:e.enableFaqBcc,!0),det=t(e===null||e===void 0?void 0:e.enableFaqBce,!0),hp=t(e===null||e===void 0?void 0:e.faqBccBceUrl,su),get=t(e===null||e===void 0?void 0:e.enableAttributionsV2MoreButton,!1),not=t(e===null||e===void 0?void 0:e.enable2TScrollToBottom,!1),cp=t(e===null||e===void 0?void 0:e.enableThumbsDownToSearchOnBing,!1),lp=t(e===null||e===void 0?void 0:e.enableThreadContextMenuA11yBugFix,!1),ap=t(e===null||e===void 0?void 0:e.enableSRA11yFix,!1),vp=t(e===null||e===void 0?void 0:e.enableStopStreamingSignal,!1),tot=t(e===null||e===void 0?void 0:e.enableStartOfSessionFix,!1),iot=t(e===null||e===void 0?void 0:e.enableGhostedAutoSuggest,!0),yp=t(e===null||e===void 0?void 0:e.codexCanvas,""),pp=t(e===null||e===void 0?void 0:e.enableMetaFlowTasksMessage,!1),rot=t(e===null||e===void 0?void 0:e.enableHostedContentToneSignal,!1),uot=t(e===null||e===void 0?void 0:e.enableHostedContentPartnerSignal,!1),fot=t(e===null||e===void 0?void 0:e.enableThreadZiFix,!1),eot=t(e===null||e===void 0?void 0:e.enableDeleteAllThreads,!1);rr();drt&&ft&&!w&&(ft=!1);er&&i(r.System,"isCCP","Codex");fa&&(CIB.config.sydney.request.source=fa);var wp=t(e===null||e===void 0?void 0:e.enableFixOnReplaceAllJSError,!1),lr=t(e===null||e===void 0?void 0:e.enableNotebookMode,!1),oot=t(e===null||e===void 0?void 0:e.enableNotebookMsaConsent,!1),sot=t(e===null||e===void 0?void 0:e.isMsaMock,!1);if(lr&&(CIB.config.features.enableNotebookMode=lr,yt=(wi=CIB.config.sydney.request.optionsSets)===null||wi===void 0?void 0:wi.slice(0),nr=gi.split(","),CIB.config.features.enableRecoverConvNotebook=t(e===null||e===void 0?void 0:e.enableRecoverConvNotebook,!1),CIB.config.features.enableShiftEnterNotebook=t(e===null||e===void 0?void 0:e.enableShiftEnterNotebook,!1),CIB.config.features.enableAltNotebookIcons=t(e===null||e===void 0?void 0:e.enableAltNotebookIcons,!1)),la&&(CIB.config.features.enableInPrivateUserMode=la),di&&CIB.config.share&&(CIB.config.share.customizedShareOutImageThumbnailId=t(e===null||e===void 0?void 0:e.customizedShareOutImageThumbnailId,"")),dv&&di&&(CIB.config.share.baseUrl=window.location.origin),lrt&&(CIB.config.mobile.isFullScreenEnabled=!0,CIB.config.features.enableThreadsPreview=!1,CIB.config.mobile.isHeaderBackButtonEnabled=!1,CIB.config.features.enableThreadsHistoryIcon=!0),vit&&(CIB.config.features.enableNoScrollDownOnInit=!0),yit&&(CIB.config.features.enableFormCodeBingUrl=!0),pit&&(CIB.config.bing.signIn.baseUrl=window.location.origin),sj_evt.bind("showSydFSC",ur),ng&&(CIB.config.features.enableWowCDSSurvey=!0),pn&&(CIB.config.messaging.messageDensity="loose"),wn&&(CIB.config.contentCreator.query.frame="sydedg"),ea&&(CIB.config.features.enableSuggestionItemEnterAnimation=ea),oa&&(CIB.config.features.enableKatexScroll=oa),srt&&(CIB.config.contentCreator.baseUrl=window.location.origin),CIB.config.features.enableRereadMetaAcc=cit,CIB.config.features.enableKeyboardNav=lit,CIB.config.features.enableMessageTypeCheck=stt,CIB.config.features.enableVersionPrompt=rrt,CIB.config.features.enableAttributionsV2=urt,CIB.config.features.enableLearnMoreCards=frt,CIB.config.features.enableInlineTwoTAnswer=prt,CIB.config.features.enableMuidRobustnessFix=lut,CIB.config.features.enableHideTypingIndicatorOnError=aut,CIB.config.features.enableLearnmoreAsHeader=vut,CIB.config.features.enableRaiButtonTooltip=yut,CIB.config.features.enableResetFocusLossFix=put,bp=_ge("cib-design-tokens"),bp||CIB.activateDesignTokens(),o={},ru&&(o.country=ru),fu&&(o.state=fu),cu&&(o.city=cu),au&&(o.zipcode=au),iw||ut?o.timezoneoffset=-((new Date).getTimezoneOffset()/60):vu&&(o.timezoneoffset=parseFloat(vu)),yu&&(o.dma=yu),pu&&(o.latitude=parseFloat(pu)),wu&&(o.longitude=parseFloat(wu)),uu&&(o.countryConfidence=uu),lu&&(o.cityConfidence=lu),ut?(vr=Intl.DateTimeFormat().resolvedOptions().timeZone,vr&&(o.timezone=vr),CIB.config.sydney.message.locationInfo=o):u&&typeof u.locations!="undefined"&&typeof u.locations.locationsList!="undefined"?typeof SydneyFSCLocationHelper!="undefined"&&typeof SydneyFSCLocationHelper.writeToLocationHints!="undefined"&&SydneyFSCLocationHelper.writeToLocationHints(u):u&&typeof u.cookLoc!="undefined"?(v=[],u.cookLoc.userLoc&&(b=kt(u.cookLoc.userLoc,!1),b.RegionType=1,b.SourceType=2,b.FDConfidence=1,v.push(b)),u.cookLoc.deviceLoc&&(et=kt(u.cookLoc.deviceLoc,!1),et.RegionType=2,et.SourceType=5,v.push(et)),rb&&u.cookLoc.coarseLoc&&(ot=kt(u.cookLoc.coarseLoc,!1),ot.RegionType=2,ot.SourceType=11,v.push(ot)),h=o,h.Center={Latitude:h.latitude,Longitude:h.longitude},delete h.latitude,delete h.longitude,h.RegionType=2,h.SourceType=1,v.push(h),CIB.config.sydney.message.locationHints=v):CIB.config.sydney.message.locationinfo=o,yn&&(CIB.config.sydney.message.userIpAddress=rw),CIB.config.sydney.message.timestamp=co(),or(lw),ya&&(CIB.config.features.enableVersionedApiCalls=ya),pa&&(CIB.config.features.enableJWTFTRFix=pa),py&&(CIB.config.features.enableThreadsArrowNav=py),hd&&(CIB.config.features.enableGetChats=!0),cd&&(CIB.config.features.enableDelayGetChats=!0),sg&&(CIB.config.features.enableThreadSync=!0),fn&&(CIB.config.features.enableTypewriterEffectForThreadName=!0),cn&&(CIB.config.features.enableSaharaSyntheticStreaming=!0),ln&&(CIB.config.features.enableFaviconV2=!0),an&&(CIB.config.features.enableFaviconAutoRefresh=!0),vn&&(CIB.config.features.enableCachedContentFixForIsStartOfSession=!0),yrt&&(CIB.config.features.enableSilentUpdateConversationFail=!0),eut&&(CIB.config.features.enableDefaultGptsOnMobile=!0),CIB.config.features.enableEmptyToneDebugLogs=bft,CIB.config.features.enableDefaultBalancedtone=wft,CIB.config.features.enableBingProxyApiForSingleDeleteInThreads=vrt,dl&&ft&&(CIB.config.features.enableFlux3P=!0,typeof CIB.config.plugin=="undefined"&&(CIB.config.plugin={}),tut&&(CIB.config.plugin.searchPluginPositon=0),nut&&(CIB.config.features.enablePluginCopilot=!0,CIB.config.plugin.baseUrl=window.location.origin),CIB.config.features.enablePluginDiscovery=iut,art&&(CIB.config.features.enablePluginOptionSetsConversationModeOnly=!0),sit&&(CIB.config.features.enableNoBingSearchResponseBackground=!0),hit&&(CIB.config.features.enableNoSearchPluginMetaMessage=!0),dn&&(CIB.config.features.enableThreadShowPlugins=!0),ttt&&(CIB.config.features.enablePluginPanelFre=!0),bn&&(CIB.config.features.enableLinkPreviewCarousel=!0),ert&&(CIB.config.features.enableLinkPreviewFailureTelemetry=!0),ort&&(CIB.config.features.enableLinkPreviewAppIdV2=!0),ag&&(CIB.config.features.enablePluginsByTone=!0),wg&&(CIB.config.features.enableOpenTableBookBlueLink=!0),grt&&(CIB.config.features.enableNoBingSearchResponseBackgroundWithOptionsSets=!0),fut&&(CIB.config.features.enableUndersideTopRightButtonBugFix=!0),nrt&&(CIB.config.features.enablePluginDevTools=!0,CIB.config.features.enablePluginRequestsBugFix=!0),trt&&(CIB.config.features.enablePluginCSRF=!0,d=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),d&&(CIB.config.plugin.csrfSid=d))),ket&&(CIB.config.features.enableFaqBcc=!0,CIB.config.links.faqBccBceUrl=hp),det&&(CIB.config.features.enableFaqBce=!0,CIB.config.links.faqBccBceUrl=hp),htt&&(CIB.config.features.enableInlinePersonalizationConsent=!0,CIB.config.messaging.personalizationInlineConsentTurn=att,CIB.config.features.enableInlinePersonalizationConsentCopilotLogo=ctt,CIB.config.features.enableInlinePersonalizationConsentCallback=ltt),en&&(CIB.config.features.enableConfirmPromptForDeleteSingleThread=!0),hn&&(CIB.config.features.enableDeferredImageCreatorCard=!0),nn&&(CIB.config.features.enableRenderCardRequestIMSearchParams=!0),kn&&(CIB.config.features.useFakeDataForLinkPreviewCarousel=!0),gn&&(CIB.config.features.enableUpdateUserMessageId=!0),ntt&&(CIB.config.features.enableUserMessageIdConsistency=!0),rtt&&(CIB.config.features.enableRenderIframeCardRequest=!0),va&&(CIB.config.features.enableFreEducationalStarter=!0),vtt&&(CIB.config.features.enableFreEducationalStarterAnimation=!0),ytt&&(CIB.config.features.enablePhonePlugin=!0),btt&&(CIB.config.features.enablePhonePluginProductionEnvironment=!0),wtt&&(CIB.config.features.enablePhonePluginBetaEnvironment=!0),ptt&&(CIB.config.features.enablePhonePluginDogfoodEnvironment=!0),ktt&&(CIB.config.features.disablePhonePluginInPreciseTone=!0),dtt&&(CIB.config.features.disablePhonePluginInBalancedTone=!0),gtt&&(CIB.config.features.disablePhonePluginInCreativeTone=!0),nit&&(CIB.config.features.enableDonationPlugin=!0),tit&&(CIB.config.features.enableDonationPluginDogfood=!0),iit&&(CIB.config.features.enableDonationPluginProd=!0),rit&&(CIB.config.features.enableM365consumerPlugin=!0,re()),uit&&(CIB.config.features.enableM365consumerPluginDogfood=!0),fit&&(CIB.config.features.enableM365consumerPluginProd=!0),eit&&(CIB.config.features.enableAdaptiveCardMessage=!0),hut&&(CIB.config.features.enableFullScreenIframe=!0),cut&&(CIB.config.features.enableDelayedMsgHandlerDisposal=!0),yr=new URLSearchParams(_w.location.search),pr=yr.get(ou.toLowerCase()),(ku!=""||bi&&pr)&&(y=CIB.config.speech.srOptions?CIB.config.speech.srOptions:[],y=s(y,ku),bi&&(y=s(y,pr)),CIB.config.speech.srOptions=y),tr&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("earcon")),ir&&(CIB.config.speech.query.surface=ir,CIB.config.speech.surface=ir),ao&&(st=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,ci),st&&st!="1"?st=="0"&&(CIB.config.speech.query.autodetect="0"):(CIB.config.speech.query.autodetect="1",CIB.config.features.enableSpeechAutoDetectLanguage=ao,CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("cdxdlid"),CIB.config.speech.srOptions.push("autotts"),(is||gb)&&(wr=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,li),(is||!wr||wr!=="1")&&(CIB.config.features.enableSpeechAutoDetectLanguageEvent=!0,k=!0,CIB.config.speech.shouldShowAutoDetectSettingNotification=function(){i(r.System,"ShouldShowVoiceAutoDetectNotification","Voice",{isShown:k?"1":"0"});var t=k;return t&&sj_cook.set(n.userCook,li,"1",!0,"/",null),k=!1,t},CIB.config.speech.onAutoDetectSettingUpdated=function(t){var u=t?"1":"0";i(r.System,"VoiceAutoDetectSettingUpdated","Voice",{isEnabled:u});sj_cook.set(n.userCook,ci,u,!0,"/",null)})))),(db||ik)&&(br=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,ai),br&&br!="1"?CIB.config.features.enableAutoReopenMic=!1:(CIB.config.features.enableAutoReopenMic=!0,pf(nk,tk))),kb&&(CIB.config.speech.srOptions||(CIB.config.speech.srOptions=[]),CIB.config.speech.srOptions.push("cdxwhisr")),w&&(CIB.config.features.supressSigninMessage=!0,CIB.config.features.enableAgeRestriction=!0,CIB.config.sydney.isMissingDob=gw,CIB.config.sydney.isAdultUser=dw),nb&&(kr=CIB.config.sydney.request.optionsSets.indexOf("enable_debug_commands"),kr>=0&&CIB.config.sydney.request.optionsSets.splice(kr,1)),yw&&f(CIB.config.sydney.request.optionsSets,"dv3sugg"),pw&&f(CIB.config.sydney.request.optionsSets,"gencontentv3"),ab&&f(CIB.config.sydney.request.optionsSets,"prodshortv4"),uw&&bu!=""&&(CIB.config.sydney.request.optionsSets=s([],bu)),ub){if(kf)for(ht=kf.split(","),lt=0,dr=ht;lt<dr.length;lt++)tt=dr[lt],CIB.config.features[tt]=!0;if(gr=yr.get(eu.toLowerCase()),bi&&gr)for(ht=gr.split(","),vt=0,nu=ht;vt<nu.length;vt++)tt=nu[vt],tt.indexOf(":")>=0&&(pt=tt.split(":"),pt.length==2&&(CIB.config.features[pt[0]]=pt[1]))}if(nf&&(kp=nf.split(","),CIB.config.sydney.request.sliceIds=kp),CIB.config.bing.isVisualParityRun=ew,CIB.config.bing.isMSAAuthenticated=w,CIB.config.bing.userMailId=sw,CIB.config.bing.username=hw,gu&&(CIB.config.sydney.baseUrl=gu),du!=""&&(CIB.config.sydney.pathBase=du),tb&&(tu=sj_cook.get(n.userCook,oi),tu&&tu=="0"&&(CIB.config.features.enableTTSOnVoiceInput=!1)),ib&&(CIB.config.features.enableCustomizedTtsOptions=!0,dp=sj_cook.get(n.userCook,ff),iu=parseInt(dp),iu&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{speed:iu}))),uf&&(CIB.config.features.enableSpeechContinuousErrorHandling=uf),hf&&(CIB.config.features.enableSpeechChatDataAfterPhrase=hf),tr&&(CIB.config.features.enableSpeechEarconOnInput=tr),cf&&(CIB.config.features.enableTTSOnSuggestionAfterVoice=cf),lf&&(CIB.config.features.enableSimpleVoiceInput=lf),af&&(CIB.config.features.enableSpeechDictationMode=af),vf&&(CIB.config.features.enableAudioPreloadLimit=vf),yf&&(CIB.config.features.enableSpeechFateTTSStop=yf),bf&&(CIB.config.features.enableSpeechGetUserMedia=bf),rs&&(CIB.config.features.enableSpeechErrorHandling=rs),fs&&(CIB.config.features.enableSpeechTTSLatencyLogging=fs),es&&(CIB.config.features.enableSpeechInputWhileRequestIsPending=es),os&&(CIB.config.features.enableSpeechIconDarkTheme=os),us&&(CIB.config.features.enableSpeechAriaLabel=us),de&&(CIB.config.features.enableFixScrollBackSerpAccidentally=de),oe(),hc&&(CIB.config.features.enableChatIconClickable=hc),cc&&(CIB.config.features.enableChatQueryClickable=cc),lc&&(CIB.config.features.enableChatQueryClickableV2=lc),ac&&(CIB.config.features.enableChatQueryClickableV3=ac),vc&&(CIB.config.features.enableChatQueryClickableV4=vc),yc&&(CIB.config.features.enableShareQuestionWithResponse=yc),pc&&(CIB.config.features.enableDynamicShareTitle=pc),wc&&(CIB.config.features.enableShareQuestionTitlePrefix=wc),bc&&(CIB.config.features.enableShareInlineAdsIframe=bc),kc&&(CIB.config.features.enableSharePreview=kc),dc&&(CIB.config.features.enableSharedHoverCitations=dc),nl&&(CIB.config.features.enableScreenshotIgnoreOnCibSerp=nl),tl&&(CIB.config.features.enableStandaloneUtility=tl),il&&(CIB.config.features.enableSidePanelBelowThreadSlot=il),rl&&(CIB.config.features.enableWelcomeCopilotProButton=rl),CIB.config.speech.animationProvider=function(){var n=location.origin+"/CodexAnimations/animations.json";return tw.getJsonData(n)},fw&&(CIB.config.features.enableMetaMessages=!1,CIB.config.features.enableLearnMore=!1,CIB.config.features.enableCitations=!1,CIB.config.features.enableWelcomeScreen=!1,CIB.config.features.enableShare=!1,CIB.config.features.enableStopButton=!1,CIB.config.features.enableAnswerCards=!1,CIB.config.features.enableAds=!1),tf&&(CIB.config.sydney.request.traceId=tf),CIB.config.features.enableSpeechInput=aw,CIB.config.features.enableShare=di,CIB.config.features.enableMessageShareableSignalV2=vw,ww&&(CIB.config.features.enableErrorStateNotification=!0,CIB.config.features.enableErrorStateToastNotificationResetButton=!0,CIB.config.features.enableGhostedAutoSuggest=iot,CIB.config.features.enableHoverCardAttributionFavicons=!0),rd&&(CIB.config.features.enableAutoRecoverFromInvalidSession=!0),ud&&(CIB.config.features.enableAutoRecoverFromInvalidSessionForFirstTurn=!0),fd&&(CIB.config.features.enableActionBarIMEFix=!0),ed&&(CIB.config.features.enableGhostTrailingSpaceByLanguage=!0),rf&&(CIB.config.features.enableErrorInstrumentaton=rf),df&&(CIB.config.features.enableSydImageCreate=df),gf&&(CIB.config.features.enableSunoMusicCreate=gf),ue&&(CIB.config.features.enableSunoMusicInst=ue),wv&&(CIB.config.features.enableInlineComponents=wv),ie(),se(),te(),bw&&(CIB.config.features.enableAnsCardSfx=!0),kw&&(CIB.config.features.enableLikeSaveToBingPage=!0),vk&&(CIB.config.features.enableFeedbackClientSideScreenshot=!0),yk&&(sc||ki&&(dit||kit)?ne():lr&&oot&&(w||sot)&&(CIB.config.features.enablePrivacyConsentFormNonMuid=!0,sr())),kd&&(CIB.config.features.enableDisposeOrphanedHosts=!0),dd&&(CIB.config.features.enablePreserveTextFormat=!0),gd&&(CIB.config.features.enableHoverCardOnLearnMorePills=!0),rg&&(CIB.config.features.enableCloudflareCaptcha=!0),ug&&(CIB.config.features.enableInvisibleCaptchaChallenge=!0),fg&&(CIB.config.features.enableResizeObserverWithAnimationFrame=!0),wd&&(CIB.config.features.enableExportDocxWithFormat=!0),bd&&(CIB.config.features.enableExportDocxWithTableFormat=!0),oit&&(CIB.config.features.enablePaywallTelemetryFix=!0),CIB.config.features.enableSecureUpdateConversation=!fb,CIB.config.features.enableSecureSendFeedback=!eb,CIB.config.features.enableShareSemSerp=sb,CIB.config.features.enableShareCreator=hb,CIB.config.features.enableFeedbackOnFinalized=ob,CIB.config.features.enableShareWithNoMargin=!wk,CIB.config.features.enableMobileShareAnchorBottom=bk,CIB.config.features.enableCreativeLandingPage=kk,CIB.config.features.enableServerLogMerging=dk,CIB.config.features.enableMobileOneClickShare=gk,CIB.config.features.enableMobileOneClickShareV2=nd,CIB.config.features.enableFeedbackInstrumentation=td,CIB.config.features.enableCopyButtonInstrumented=og,CIB.config.features.enableShareModalDialog=cb,CIB.config.features.enableShareOnHostMessage=tg,CIB.config.features.enablePassBotGreetingInContext=!ig,CIB.config.features.enableMobileKnowledgeCardOverlay=hg,CIB.config.features.enableCibOverlayForKnowledgeCard=cg,CIB.config.features.enableKCAdaptiveCardUpdate=lg,CIB.config.features.enableNewAutoSuggestEndPoint=bg,CIB.config.features.enableNewTopicTooltip=on,CIB.config.features.enableNewlineTooltip=sn,CIB.config.features.enableTypingIndicatorForSerpSlotCreator=tn,CIB.config.features.enableOnProcessingStartEvent=rn,CIB.config.features.enableOnProcessingCompleteEvent=un,ek?(CIB.config.features.enableDynamicMaxMessageLength=!0,CIB.config.messaging.maxMessageLength=ss,CIB.config.messaging.maxMessageLengthBalanced=ok,CIB.config.messaging.maxMessageLengthCreative=sk,CIB.config.messaging.maxMessageLengthPrecise=hk):CIB.config.messaging.maxMessageLength=ss,CIB.config.features.enableThreadsAadMsaSwitch=lk,CIB.config.messaging.isAccountLinkedAadUser=ck,CIB.config.features.enableFastChatLoadAnimation=utt,CIB.config.features.enableShareInThreadsHeader=ftt,CIB.config.features.enableNewConversationActivate=ett,CIB.config.features.enableMobileFirstClickShare=ott,dl&&(CIB.config.features.enableThreadsTopRightButton=wit,ft&&(CIB.config.features.enableThreadsTopRightButton||bit)&&(CIB.config.features.enableThreadsTopRightButton=!0,CIB.config.features.enablePluginsTopRightButton=!0)),CIB.config.features.enablePluginRevocation=rut,CIB.config.features.enableSearchPlugins=uut,(vg||yg||pg)&&(CIB.config.features.enableWelcomeScreen=gl,CIB.config.features.enableWelcomeScreenItem=!gl),na&&(CIB.config.features.disableZIRMSStart=na),va&&SydWelcomeScreen.isEduStarterEnabled()&&(CIB.config.features.enableWelcomeScreen=!0,CIB.config.features.enableWelcomeScreenItem=!0),eg&&(CIB.config.features.enableKnowledgeCardImage=!0,CIB.config.features.enableImagesInTextMessages=!0,as()),CIB.config.features.secureConversation=lb,fe&&(CIB.config.features.enableAffinityInstance=fe,f(CIB.config.sydney.request.optionsSets,"machine_affinity"),f(CIB.config.sydney.request.optionsSets,"streamf")),ee&&(CIB.config.features.enableGetMessagesHub=ee),rk&&(CIB.config.features.enableNewTopicAutoExpand=!0),fk&&(CIB.config.features.enableAmberTurnPerConversation=!0,CIB.config.messaging.amberTurnPerConversation=t(e===null||e===void 0?void 0:e.amberTurnPerConversation,0)),uk&&(CIB.config.features.enableMaxTurnsPerConversation=!0,CIB.config.features.enableMaxTurnsFromBackend=t(e===null||e===void 0?void 0:e.enableMaxTurnsFromBackend,!1),CIB.config.messaging.maxTurnsPerConversation=sc?t(e===null||e===void 0?void 0:e.maxTurnsPerConversationMuidUser,ct):t(e===null||e===void 0?void 0:e.maxTurnsPerConversation,ct)),vb&&(CIB.config.sydney.request.Participant={Id:"1"}),we&&(CIB.config.features.enablePerfTracker=we),yb&&(CIB.config.features.enableEmbeddedPerf=!0),be&&(CIB.config.features.enableSinglePerfEventPerMessage=be),pb&&(CIB.config.features.enableE2EPerf=!0),(wb||er)&&(CIB.config.features.enableCCPPerf=!0),ge&&(CIB.config.features.enableRedirectToLoginUrl=ge),no&&(CIB.config.features.enableNewChatIconInActionBar=no),ro&&(CIB.config.features.enableActionBarV2=ro),uo&&(CIB.config.features.enableSpeechDictationBridgeMode=uo),fr&&(CIB.config.features.enableSpeculativeMode=fr),fo&&(CIB.config.features.enableReadAloudMessage=fo),eo&&(CIB.config.features.enableReadAloudOptions=eo,wt=parseInt(sj_cook.get(n.userCook,oi)),wt>=0&&wt<=2&&(CIB.config.speech.ttsOptions=__assign(__assign({},CIB.config.speech.ttsOptions),{readAloud:wt}))),so&&(CIB.config.features.enableReadAloudOnDeepLeoOnly=so),ho&&(CIB.config.features.enableReadAloudFixV1=ho),lo&&(CIB.config.features.enableSpeechLanguageSetting=lo,gp=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,sf),ar(gp)),vo&&(CIB.config.features.enableSpeechLogNoiseReduction=vo),oo&&(CIB.config.features.enableSpeechTouchStart=oo),yo&&(CIB.config.features.enableAutoReopenMicTTSStopped=yo),po&&(CIB.config.features.enableAccentedIconsOnMobileABV2=po),wo&&(CIB.config.features.enableAltVoiceQuerySubmissionOnMobileABV2=wo),bo&&(CIB.config.features.enableMockMicListeningState=bo),ko&&(CIB.config.features.enableMockMicBlockedState=ko),go&&(CIB.config.features.enableRecogFailedLogNoiseReduction=go),ns&&(CIB.config.features.enableSpeculativeModeJSErrorChecks=ns),ts&&(CIB.config.features.enableMicRestIconWhenListening=ts),bb&&(CIB.config.speech.micPermissionProvider=function(){return{}}),ak&&(CIB.config.features.enableSafeSearchSetting=!0,ke()),CIB.config.messaging.messageBufferWorkerStreamDelayMS=pk,id&&(CIB.config.suggestions.baseUrl="https://www.bing.com"),cs&&(CIB.config.features.enableOneClickCopy=cs),ls&&(CIB.config.features.enableReorderCopiedTextReferences=ls),ys&&(CIB.config.features.enableCodeCopy=ys),ps&&(CIB.config.features.enableCodeBar=ps),ws&&(CIB.config.features.enableCodeBarV2=ws),bs&&(CIB.config.features.enableUserMessageCopy=bs),ks&&(CIB.config.features.enableRichTextPaste=ks),ds&&(CIB.config.features.enablePasteMarkdownTable=ds),gs&&(CIB.config.features.enablePasteMath=gs),nh&&(CIB.config.features.enableInlineFeedback=nh),th&&(CIB.config.features.enableInlineFeedbackV2=th),ih&&(CIB.config.features.enableInlineFeedbackV21=ih),rh&&(CIB.config.features.enableSerpFeedback=rh),uh&&(CIB.config.features.enableMessageSave=uh),fh&&(CIB.config.features.enableMoreOnBotMessageActionsBar=fh),eh&&(CIB.config.features.enableMessageExport=eh),oh&&(CIB.config.features.enableMessageExportWithPlainText=oh),sh&&(CIB.config.features.enableHandoffAPI=sh),hh&&(CIB.config.features.enableSearchOnBingForBotMessage=hh),ch&&(CIB.config.features.enableMessageExportOnlineWord=ch),lh&&(CIB.config.features.enableMessageExportOnlineExcel=lh),gh&&(CIB.config.features.enableTonePreview=gh),wy&&(CIB.config.features.disableTitlePreviewLabel=wy),by&&(CIB.config.features.disableTurnCount=by),CIB.config.features.enableMessageExportWord=od,CIB.config.features.enableThreadExportLocalWord=sd,ah&&(CIB.config.features.enableMessageExportLocalExcel=ah),vh&&(CIB.config.features.enableTableBarFlatActions=vh),yh&&(CIB.config.features.enableThreadExportOnlineWord=yh),ph&&(CIB.config.features.enableMessageExportV2=ph),wh&&(CIB.config.features.enableBotMessageActionsBar=wh),bh&&(CIB.config.features.enableShorterToastDuration=bh),kh&&(CIB.config.features.enableDirectlyOpenExportOnlineLink=kh),dh&&(CIB.config.features.enableLoginHintForSSO=dh),nc&&(CIB.config.features.enableMSAuth1stPartyApp=nc),tc&&(CIB.config.features.enableAdsRedirectLinkForTextMessage=tc),ic&&(CIB.config.features.enableCopyHtml=ic),rc&&(CIB.config.features.enableCopyHtmlWithHighlightedCode=rc),uc&&(CIB.config.features.enableExportPdfWithAnswerScreenshot=uc),fc&&(CIB.config.features.enableExportDocxWithAnswerScreenshot=fc),ec&&(CIB.config.features.enableLibrariesSplitImport=ec),oc&&(CIB.config.features.enableFlatActionBar=oc),wl&&(CIB.config.features.enableSydBeacon=wl),kl&&(CIB.config.features.enableStartPromotion=kl),bl&&(CIB.config.features.enableThreadContextMenu=bl),ul&&(CIB.config.features.enableNewTables=ul,CIB.config.messaging.tableVersion=ld),fl&&(CIB.config.features.enableBufferMessage=fl),el&&(CIB.config.features.enableBufferLoadingDots=el),sl&&(CIB.config.features.enableCodeInterpreterPreviewCode=sl),ol&&(CIB.config.features.enableServerMetaText=ol),hl&&(CIB.config.features.enableGPTCreatorItemContextMenu=hl),vl&&(CIB.config.features.enableMock3PGpts=vl),yl&&(CIB.config.features.enableGPTCreatorCreateGptPreview=yl),vd&&(CIB.config.features.enableGptWelcomeInitLoad=!0),dy&&ad&&er&&cr&&(CIB.config.features.enableGPTCreator=!0,CIB.config.features.enableExtraExtensionParams=!0,yd&&(CIB.config.features.enableThreads=!1,CIB.config.features.enableGptCreatorCreatePanel=cet,CIB.config.features.enableGptCreatorConfigurePanel=aet,CIB.config.features.enableGptCreatorConfigurePanelKnowledges=vet,CIB.config.features.enableGptCreatorConfigurePanelcapabilities=sp,CIB.config.features.enableIconUpload=wet,CIB.config.features.enableCopilotGptsPolicyLink=pd,sp&&(CIB.config.features.enableGptCreatorConfigurePanelImageGenerator=yet,CIB.config.features.enableGptCreatorConfigurePanelCodeInterpreter=pet))),CIB.config.gptCreator&&(c=window.location.origin,it=c.includes("bing.com"),CIB.config.gptCreator.gptCreatorCreatorUrl=c+cl,CIB.config.gptCreator.creatorUrl=c+cl,CIB.config.gptCreator.gptCreatorPreviewUrl=c+(it?ll:""),CIB.config.gptCreator.previewUrl=c+(it?ll:""),CIB.config.gptCreator.gptCreatorShareUrl=c+(it?al:""),CIB.config.gptCreator.shareUrl=c+(it?al:""),CIB.config.gptCreator.imageCreateAppID="3A94CC512C67BC6591C1F88594FBDB53481B8505",CIB.config.gptCreator.userAnID=bet),ia&&(CIB.config.features.enableMessagePrivacy=ia),ra&&(CIB.config.features.enableCloseShareOnClickOutside=ra),gc&&(CIB.config.features.enableShowShareButtonWithSecurityCheck=gc),pl&&(CIB.config.features.enableOptimizedStreaming=pl),aa&&(CIB.config.features.enableSydneyGetMessagesHub=aa),ua&&(CIB.config.features.enableUpdateProfile=ua),ba&&(CIB.config.features.enableSuppressSigninMessage=ba),wa&&(CIB.config.features.enableOpenEdgeNotification=wa),CIB.config.features.enableCitationsOnSentences=hrt,CIB.config.features.enableGoldilocks=kut,CIB.config.features.enableGoldilocksRAIButton=dut,CIB.config.features.enableGoldilocksStrokes=gut,CIB.config.features.enableGoldiLocksBackgroundLight=nft,CIB.config.features.enableGoldilocksLineHeight=tft,CIB.config.features.enableGoldilocksMetaMessage=rft,CIB.config.features.enableTopAlignConversation=uft,CIB.config.features.enableHideZeroTurn=fft,CIB.config.features.enableMessageGroupHeader=eft,CIB.config.features.enableFullWidthMessages=oft,CIB.config.features.enableInlineStreamingIndicator=sft,CIB.config.features.enableGoldilocksAttributionPills=hft,CIB.config.features.enableGoldilocksMessageActions=cft,CIB.config.features.enableGoldilocksTurnCounter=lft,CIB.config.features.enableGoldilocksStrokes2T=aft,CIB.config.features.enableAttributionsV2MoreButton=get,CIB.config.features.enable2TScrollToBottom=not,CIB.config.features.enableGoldilocksCitations=vft,CIB.config.features.enableGoldilocksWiderActionBar=yft,CIB.config.features.enableGoldilocksExportDropdown=pft,CIB.config.features.enableGoldilocksInlineFeedback=kft,CIB.config.features.enableUserMsgActionBar=dft,CIB.config.features.enableGoldilocksContextual=gft,CIB.config.features.enableGoldilocksPersistentMetas=net,CIB.config.features.enableGoldilocksInlinePersistentMetas=tet,CIB.config.features.enableGoldilocksBackgroundGpt=iet,CIB.config.features.enableGoldilocksIdentity=ret,CIB.config.features.enableAdaptiveCardImageForCodeInterpreter=uet,CIB.config.features.enableGoldilocksCopilotGreetingFix=fet,CIB.config.features.enableThreadZiFix=fot,CIB.config.features.enableDeleteAllThreads=eot,CIB.config.features.enableRegisterContextAsync=eet,CIB.config.features.enableStreamingInBackground=oet,CIB.config.features.enableCitationSuperscriptFix=ift,CIB.config.features.enablePrefetchConversationToken=set,CIB.config.features.enableConnectionProvider=het,CIB.config.features.enableAnswerCards=crt,sy&&(CIB.config.features.enableThreadsHoverDescriptor=sy),hy&&(CIB.config.features.enableMessagesWithInternalLoadAnimation=hy),cy&&(CIB.config.features.enableHideRAISuggestionIcon=cy),ly&&(CIB.config.features.enableMuidDisabledSuggestionBar=ly),ay&&(CIB.config.features.enableConversationToActionBarFocusOrder=ay),gv&&(CIB.config.features.enableWelcomeItemEnterAnimation=gv),ny&&(CIB.config.features.enableToneSelectorAsDropdown=ny),ty&&(CIB.config.features.enableSidePanelPositionInlineStart=ty),iy&&(CIB.config.features.enableSidePanelAsPersistent=iy),ry&&(CIB.config.features.enableSidePanelVisibilityTrigger=ry),uy&&(CIB.config.features.enableSidePanelCustomScrollbar=uy),fy&&(CIB.config.features.enableConversationCustomScrollbar=fy),ey&&(CIB.config.features.enableConversationAlignmentTop=ey),oy&&(CIB.config.features.enableSimpleCopilotWelcomeScreen=oy),ka&&(CIB.config.features.enableExportPdfWithRichFormat=ka),da&&(CIB.config.features.enableAttributionImages=da),ga&&(CIB.config.features.enableAttributionImagesWhenAdsPresent=ga),nv&&(CIB.config.features.enableAttributionImagesCarousel=nv),tv&&(CIB.config.features.enableAttributionImagesClickthrough=tv),fv&&(CIB.config.features.enableThreadContextMenuV2=fv),ev&&(CIB.config.features.enableSearchBoxAutoFocus=ev),ov&&(CIB.config.features.enableUserMessageRewriteInsteadOfCopy=ov),sv&&(CIB.config.features.enableUserMessageRewriteAndCopy=sv),hv&&(CIB.config.features.enableSendFeedback=hv),cv&&(CIB.config.features.enableSearchUserMessageOnBing=cv),lv&&(CIB.config.features.enableEditLastUserMessage=lv),av&&(CIB.config.features.enableHideLastUserMessageInEdit=av),wp&&(CIB.config.features.enableFixOnReplaceAllJSError=wp),vy&&(CIB.config.features.enableBufferClearOnReset=vy),yy&&(CIB.config.features.enableCancelPendingRequestOnNewMessage=yy),ky&&(CIB.config.features.enableGraphicArtJsonResponse=ky),ip&&(CIB.config.features.enableInstService=ip),rp!==""&&(CIB.config.bing.feedbackVertical=rp),vp&&(CIB.config.features.enableStopStreamingSignal=vp),pp&&(CIB.config.features.enableTasksMessage=pp),CIB.config.features.enableStartOfSessionFix=tot,CIB.config.features.partnerId=yp,CIB.config.windchime.partnerId=yp,CIB.config.features.enableHostedContentToneSignal=rot,CIB.config.features.enableHostedContentPartnerSignal=uot,ce(),le(),ae(),ca&&(CIB.config.features.enableBackendExportService=ca),he(),ta&&(CIB.config.features.enableContextMessage=ta),rt=t(e===null||e===void 0?void 0:e.codexOptionsSetsList,null),rt&&rt.length>0)for(bt=0;bt<rt.length;bt++)f(CIB.config.sydney.request.optionsSets,rt[bt].value);ve();kg&&vs(gg,dg);hs&&(CIB.config.features.enableTelemetryPrivacy=hs);hr&&(CIB.config.features.enableWpFluxTwoTAnswerCard=hr,CIB.config.features.enableWpFluxTwoTAnswerCardFallback=hr,kv&&(CIB.config.features.enableWpFluxTwoTAnswerCardFallback=!1,CIB.config.features.disableWpFluxTwoTAnswerCardFallback=kv),f(CIB.config.sydney.request.optionsSets,"fluxv1"),f(CIB.config.sydney.request.optionsSets,"fluxmatch"));ut&&typeof MsbSydneyHelper!="undefined"?MsbSydneyHelper.initCompliantSydneyConfigs():ki&&typeof BceSydneyHelper!="undefined"&&(BceSydneyHelper.initBingChatForEnterpriseSydneyConfigs(),dv&&typeof MsbSydneyHelper!="undefined"&&MsbSydneyHelper.addTenantLogoToHeader());ut||(pe(),ye());sa&&(CIB.config.features.enablePageHeaderOverlapClamping=sa);itt&&(CIB.config.features.enablePersistentInputText=!0);ha&&(CIB.config.features.enableEmptyThreadTime=ha);iv&&(CIB.config.features.enableThreadsConsent=iv,CIB.config.features.enableMutedThreadsConsent=ait);rv&&(nw=t(e===null||e===void 0?void 0:e.threadsAutoSaveOptionset,"autosave"),CIB.config.features.enableDeleteSingleConversationMemory=rv,CIB.config.sydney.request.conversationHistoryOptionsSets=[nw,"savemem","uprofupd","uprofgen"],fr&&!!CIB.config.sydney.request.conversationHistoryOptionsSets&&CIB.config.sydney.request.conversationHistoryOptionsSets.push("enable_message_signature"));uv&&(CIB.config.features.enable1DSTelemetry=uv);vv&&(CIB.config.features.enablePrivateThreadDefaultTitle=vv);yv&&(CIB.config.features.enablePromptHandling=yv);git&&f(CIB.config.sydney.request.optionsSets,"u18scenario");pv&&(CIB.config.features.enableModeAndSlotValidationForAds=pv);bv&&(CIB.config.features.enableSuggestionChipDisplayText=bv);to();wf();irt&&io();dy&&(wrt||cr)&&(CIB.config.features.enableFreeSydney=!0,CIB.config.gptCreator&&(CIB.config.gptCreator.maxSidePanelPersonasCount=krt),tp&&(CIB.config.features.enableShortShareUrl=tp),np&&(CIB.config.features.enableCustomGptPreview=np,CIB.config.features.enableExtraExtensionParams=!0),brt&&(CIB.config.features.enableCustomGptSpecialGreeting=!0));gy&&(CIB.config.features.enableFreeSydneyV2Style=gy);up&&(CIB.config.features.enableEnterToCreateNewLine=up);CIB.config.features.enableUpdateLocationButton=out;CIB.config.features.enableLocationMetaMessage=sut;fp&&(CIB.config.features.enableTextMessageDelayedFinalization=fp);ep&&(CIB.config.features.enableNewTopicButtonFeature=ep);cp&&(CIB.config.features.enableThumbsDownToSearchOnBing=cp);op&&(CIB.config.features.enableChangeSidePanelVisibility=op);lp&&(CIB.config.features.enableThreadContextMenuA11yBugFix=lp);ap&&(CIB.config.features.enableStopRespondingFocus=ap);CIB.config.features.disableTurnCountLocalAccount=!1;!wut||cr||!but||w||ow||(d=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("CUID","CUID"),d&&(CIB.config.features.disableTurnCountLocalAccount=!0))}function pf(t,u){if(t||u){var f=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get(n.userCook,vi);(u||!f||f!=="1")&&(d=!0,CIB.config.speech.shouldReopenMicNotification=function(){i(r.System,"ShouldShowReopenMicNotification ","Voice",{isShown:d?"1":"0"});var t=d;return t&&sj_cook.set(n.userCook,vi,"1",!0,"/",null),d=!1,t},CIB.config.speech.onReopenMicSettingUpdated=function(t){var u=t?"1":"0";i(r.System,"VoiceReopenSettingUpdated","Voice",{isEnabled:u});sj_cook.set(n.userCook,ai,u,!0,"/",null)})}}function wf(){if(CIB.onResetConversation)CIB.onResetConversation(function(){i(r.System,"ResetConversationTriggered","ChatMode","1")})}function rr(){var r=this,i,u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTestCache,!1);u&&"SydneyTestHelper"in _w&&(SydneyTestHelper.setTestConfigs(),sj_evt.bind("CHAT_MOCKED",function(t){var i=t&&t.length>1?t[1]:null;i&&(n.processCachedResponseUsingCIB=function(){return __awaiter(r,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return SydneyTestHelper.shouldWaitForAnswerScript()?[4,SydneyTestHelper.getAnswerScriptDefer().p]:[3,2];case 1:n.sent();n.label=2;case 2:return CIB.processCachedResponse(i),[2]}})})})},!0))}function ur(){var i,r,u,f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexWin,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.codexWinCurrentTurn,0),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexWinBotMessage,!1);f&&(sj_cook.set(n.userCook,rf,String(e+1),!0,"/",null),o&&(n.shouldForceSendBotGreeting=!0));sj_evt.unbind("showSydFSC",ur)}function bf(){var n,i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDM,!1);i&&CIB.changeColorScheme&&CIB.changeColorScheme(1)}function fr(){var n=Math.round(_d.documentElement.clientWidth||_w.innerWidth);return n<100&&(n=360),n}function er(){var n=Math.round(_d.documentElement.clientHeight||_w.innerHeight);return n<100&&(n=636),n}function kf(){var n,u,f,e,o;return __awaiter(this,void 0,void 0,function(){var a,l,c,s,h,v;return __generator(this,function(y){switch(y.label){case 0:if(a=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneyFSCTranslationSrc,!1),!a)return[3,7];l=(u=_G.Lang)!==null&&u!==void 0?u:"en";c=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableSydneyFSCTranslationView,!1);s=null;h={lang:l,locationOrigin:(e=_d===null||_d===void 0?void 0:_d.location)===null||e===void 0?void 0:e.origin,locationPath:(o=_d===null||_d===void 0?void 0:_d.location)===null||o===void 0?void 0:o.pathname};y.label=1;case 1:return(y.trys.push([1,6,,7]),!c)?[3,3]:[4,gf(l)];case 2:return s=y.sent(),[3,5];case 3:return[4,df(l)];case 4:s=y.sent();y.label=5;case 5:return s?(or(s),h.numberStrings=s?Object.keys(s).length:0,i(r.System,"SydneyTranslationAjaxLoaded",c?"TranslationView":"TranslationJSON",h)):i("CI.Error","SydneyTranslationAjaxFailed",c?"TranslationViewEmpty":"TranslationJSONEmpty",h),[3,7];case 6:return v=y.sent(),h.exception=v,i("CI.Error","SydneyTranslationAjaxFailed",c?"TranslationViewError":"TranslationJSONError",h),[3,7];case 7:return[2]}})})}function df(n){return __awaiter(this,void 0,void 0,function(){var i,t,r;return __generator(this,function(u){switch(u.label){case 0:return i=new URL("turing/convtranslation/".concat(n,".json"),window.location.origin),[4,ht(i.href,"","GET")];case 1:return(t=u.sent(),t===null||t===void 0?void 0:t.response)?(r=JSON.parse(t.response),_w._sydConvTranslation=__assign(__assign({},_w._sydConvTranslation),r),[2,_w._sydConvTranslation]):[2]}})})}function gf(n){return __awaiter(this,void 0,void 0,function(){var r,t,i;return __generator(this,function(u){switch(u.label){case 0:return r=new URL("turing/convtranslationview/".concat(n),window.location.origin),[4,ht(r.href,"","GET")];case 1:return(t=u.sent(),i=t===null||t===void 0?void 0:t.response,i)?(sj_appHTML(_d.body,i),_w.rms&&_w.rms.start(),[2,_w._sydConvTranslation]):[2]}})})}function or(n){for(var r,t=0,i=Object.keys(n);t<i.length;t++)r=i[t],CIB.config.strings[r]=n[r]}function ne(){CIB.config.features.enableMUIDUserMode=!0;CIB.config.features.enableSignInUpsellforMuidUser=!0;sr()}function sr(){var n,i,r,u,f,e=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableBfbCookieConsent,!1),o=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentTop,!1),s=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentExplicit,!1),h=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexMuidConsentImplicit,!1),c=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCodexMuidConsentModal,!1),l=o||s||h||c;l&&(CIB.config.features.enableCodexMuidConsentTop=o,CIB.config.features.enableCodexMuidConsentInlineExplicit=s,CIB.config.features.enableCodexMuidConsentInlineImplicit=h,CIB.config.features.enableCodexMuidConsentModal=c,CIB.config.sydney.muidUserConsentGiven=e&&at||cr(),CIB.onConsentGiven&&CIB.onConsentGiven(function(){no();e&&BceSydneyHelper.updateBfbConsent()}))}function hr(){var n,i,r,u,e;return __awaiter(this,void 0,void 0,function(){var o,c,a,v,y,l,s,h,p,w=this;return __generator(this,function(b){switch(b.label){case 0:if(di)return[2];if(di=!0,o=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableThreadsConsent,!1),c=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.threadsAutoSaveOptionset,"autosave"),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableFetchUserConsent,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableThreadsConsentOnlyAutosave,!1),y=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableInlinePersonalizationConsentCallback,!1),CIB.config.features.enableThreadsConsent=o,CIB.config.features.enableThreadsConsentOnlyAutosave=!!v,o&&CIB.onAutosaveConsentChanged)CIB.onAutosaveConsentChanged(function(n){switch(n){case"Allowed":f(CIB.config.sydney.request.optionsSets,c);break;default:ft(CIB.config.sydney.request.optionsSets,c)}});return(o&&a&&CIB.fetchConsent)?[4,CIB.fetchConsent()]:[3,2];case 1:return b.sent(),[3,8];case 2:if(!(o&&CIB.getConsent&&CIB.updateConsent))return[3,8];b.label=3;case 3:return b.trys.push([3,7,,8]),[4,CIB.getConsent()];case 4:return(l=b.sent(),s=l.consentSettings.autoSave,h=l.consentSettings.personalization,!(s&&h&&(s!=="Allowed"||h!=="Allowed")))?[3,6]:[4,CIB.updateConsent(s,h)];case 5:b.sent();b.label=6;case 6:return[3,8];case 7:return p=b.sent(),[3,8];case 8:if(y&&CIB.onPersonalizationMessageRendered&&CIB.fetchConsent)CIB.onPersonalizationMessageRendered(function(){return __awaiter(w,void 0,void 0,function(){return __generator(this,function(n){switch(n.label){case 0:return[4,CIB.fetchConsent()];case 1:return n.sent(),[2]}})})});return[2]}})})}function te(){var i,n=_w._sydConvConfig,r=t(n===null||n===void 0?void 0:n.enableMultimediaSearch,!1);if(r&&((i=CIB.config.multimediaSearch)===null||i===void 0?void 0:i.query)){var o=t(n===null||n===void 0?void 0:n.isMobileHost,!1),u=t(n===null||n===void 0?void 0:n.multimediaSearchFormCode,""),f=t(n===null||n===void 0?void 0:n.multimediaSearchEnableMediaCanvas,!0),h=t(n===null||n===void 0?void 0:n.multimediaSearchMaxImageCount,3),c=t(n===null||n===void 0?void 0:n.multimediaSearchEnableCachedImages,!1),e=t(n===null||n===void 0?void 0:n.multimediaSearchOptionsSets,"");e&&(CIB.config.sydney.request.optionsSets=s(CIB.config.sydney.request.optionsSets,e));CIB.config.features.enableMultimediaSearch=r;CIB.config.multimediaSearch.maxImageCount=h;CIB.config.multimediaSearch.enableMediaCanvas=f;CIB.config.multimediaSearch.enableCachedImages=c;f&&o&&(CIB.config.multimediaSearch.query.view="detailV2",CIB.config.multimediaSearch.query.idpbck="1");u&&(CIB.config.multimediaSearch.query.form=u)}}function ie(){var n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableVisualSearch,!1);if(g){var tt=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.removeCameraInputForVisualSearch,!1),it=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.dVSOC,!1),rt=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.aimgut,!1),nt=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.visualSearchSubscriptionId,""),ut=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.vsbtnicon,""),ft=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.vsbtniconfill,""),et=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.eifpiab,!1),ot=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.emwc,!1),st=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.eufte,!1),ht=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.ecambar,!1),ct=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.eaddimgbar,!1),lt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.eaddimgicon,!1),at=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.evsfre,!1),vt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.ekrbu,!1),yt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.evsptnr,!1),pt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.evsdirurl,!1),wt=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.eimgsmkcard,!1),bt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.efhof,!1);tt&&(CIB.config.features.enableCameraInputForVisualSearch=!1);it&&(CIB.config.features.enableVisualSearchOrientationCheck=!1);vt&&(CIB.config.visualSearch.baseUrl=window.location.origin);CIB.config.features.enableVisualSearch=g;CIB.config.features.enableImageFilePasteInActionBar=et;CIB.config.features.enableUnsupportedFileTypeError=st;CIB.config.features.enableVisualSearchFRE=at;CIB.config.features.enablePartnerVisualSearchUpload=yt;CIB.config.features.enableImageKnowledgeAnswerCards=wt;CIB.config.features.enableFlyoutHeaderOverlapFix=bt;CIB.config.visualSearch.allowImageOnlyUserTurn=rt;CIB.config.visualSearch.enableMobileWebCamera=ot;CIB.config.visualSearch.enableCameraInActionBar=ht;CIB.config.visualSearch.enableAttachImageInActionBar=ct;CIB.config.visualSearch.sendPartnerImageUrlDirectlyToBot=pt;CIB.config.visualSearch.useImageAddIcon=lt;CIB.config.visualSearch.includeCredentialInXHRRequest=!0;CIB.config.visualSearch.flyoutButtonIcon=ut;CIB.config.visualSearch.flyoutButtonFillIcon=ft;!nt||(CIB.config.visualSearch.subscriptionId=nt);ue();fe();ee()}}function re(){var n;CIB.config.m365consumer.pluginAuth.getClientId=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginClientId,"ef47e344-4bff-4e28-87da-6551a21ffbe0")};CIB.config.m365consumer.pluginAuth.getAuthority=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthority,"https://login.windows-ppe.net/consumers")};CIB.config.m365consumer.pluginAuth.scope=[t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginAuthScope,"openid")];CIB.config.m365consumer.getOptionsSet=function(){var n;return t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.m365ConsumerPluginOptionsSet,"flux_m365consumer_dogfood")}}function ue(){var i,n=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.visualSearchRestrictedTonesList,null);(n===null||n===void 0?void 0:n.length)>0&&CIB.config.visualSearch&&(CIB.config.visualSearch.restrictedTones=[],n.forEach(function(n){CIB.config.visualSearch.restrictedTones.push(n.value)}))}function fe(){var i,n=CIB.config.visualSearch,t;((i=_w._sydConvConfig)===null||i===void 0?void 0:i.evssid)&&n&&(t=sj_cook===null||sj_cook===void 0?void 0:sj_cook.get("_SS","SID"),t&&(n.query?n.query.SID=t:n.query={SID:t}))}function ee(){var n,i,r,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.evscamprd,!1),u=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.vscamprdname,"");f&&u&&((r=_w.SydneyCameraProviderFactory)===null||r===void 0?void 0:r.create(u))}function oe(){var n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFixCodeXAsBug,!1),g=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableStableAutosuggestion,!1),nt=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableEndpointInASTelemetry,!1),tt=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableAutosuggestMetrics,!1),it=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableCvidInAutosuggestAPI,!1),rt=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableASBackspaceFix,!1),ut=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableGhostingSuggestTelemetry,!1),ft=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableResetASProperties,!1),et=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableKSPQPropertiesTracking,!1),ot=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableAutoSuggestPerfMetrics,!1),st=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableAutoSuggestPerfMetricP50,!1),ht=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableAutoSuggestPerfMetricP90,!1),ct=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableAutoSuggestPerfMetricAvgLatency,!1),lt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableAutoSuggestPerfMetricQFT,!1),at=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableReduceDebouncingAutosuggest,!1),vt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enableCachingAutosuggest,!1),yt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableAcceptSuggestionOnRightArrow,!1),pt=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableShowAutosuggestButton,!1);CIB.config.features.enableFixCodeXAsBug=d;CIB.config.features.enableStableAutosuggestion=g;CIB.config.features.enableEndpointInASTelemetry=nt;CIB.config.features.enableAutosuggestMetrics=tt;CIB.config.features.enableCvidInAutosuggestAPI=it;CIB.config.features.enableASBackspaceFix=rt;CIB.config.features.enableGhostingSuggestTelemetry=ut;CIB.config.features.enableResetASProperties=ft;CIB.config.features.enableKSPQPropertiesTracking=et;CIB.config.features.enableReduceDebouncingAutosuggest=at;CIB.config.features.enableCachingAutosuggest=vt;CIB.config.features.enableAcceptSuggestionOnRightArrow=yt;CIB.config.features.enableShowAutosuggestButton=pt;CIB.config.features.enableAutoSuggestPerfMetrics=ot;CIB.config.features.enableAutoSuggestPerfMetricP50=st;CIB.config.features.enableAutoSuggestPerfMetricP90=ht;CIB.config.features.enableAutoSuggestPerfMetricAvgLatency=ct;CIB.config.features.enableAutoSuggestPerfMetricQFT=lt}function se(){var n,i,r,u,f,e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableFileUpload,!1),ut=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableFileUploadPrivacyMessage,!1),ft=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableMobileFileUpload,!1),et=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableFileUploadWebPageUrlInput,!1),ot=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFileUploadContextInThreads,!1),st=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableTextFilePasteInActionBar,!1),ht=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableFileUploadLongContext,!1),ct=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableFileUploadForAllModes,!1),lt=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableFileUploadDirect,!1),at=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableFileUploadPdfSupport,!1),vt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableFileUploadDocxSupport,!1),yt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableFileUploadAudioSupport,!1),pt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableFileUploadPDFSupportByKED,!1),wt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableFileUploadAnyTypeSupport,!1),bt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableFileUploadAuthorization,!1),kt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.fileUploadMaxSizeLongContext,cu),dt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.fileUploadMaxAudioSize,lu),gt=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.fileUploadFileNameLengthLimitation,au),ni=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.fileMaxCountForGptCreator,vu),ti=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.fileMaxCountForChat,yu),ii=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.enableFileUploadNewUploadFileAPI,!1),ri=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.disableFileUploadOptionSets,!1),ui=t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.enableSydFileUploadPartnerUpload,!1);rt&&(CIB.config.features.enableFileUpload=!0,ft&&(CIB.config.features.enableMobileFileUpload=!0));ut&&(CIB.config.features.enableFileUploadPrivacyMessage=!0);et&&(CIB.config.features.enableFileUploadWebPageUrlInput=!0);ot&&(CIB.config.features.enableFileUploadContextInThreads=!0);st&&(CIB.config.features.enableTextFilePasteInActionBar=!0);ht&&(CIB.config.features.enableFileUploadLongContext=!0);ct&&(CIB.config.features.enableFileUploadForAllModes=!0);lt&&(CIB.config.features.enableFileUploadDirect=!0);at&&(CIB.config.features.enableFileUploadPdfSupport=!0);vt&&(CIB.config.features.enableFileUploadDocxSupport=!0);yt&&(CIB.config.features.enableFileUploadAudioSupport=!0);pt&&(CIB.config.features.enableFileUploadPDFSupportByKED=!0);wt&&(CIB.config.features.enableFileUploadAnyTypeSupport=!0);bt&&(CIB.config.features.enableFileUploadAuthorization=!0);ii&&(CIB.config.features.enableSydneyUploadFileAPI=!0);ui&&(CIB.config.features.enablePartnerFileUpload=!0);ri&&CIB.config.fileUpload&&(CIB.config.fileUpload.extraOptionsSet=[],CIB.config.fileUpload.extraOptionsSetV2=[]);CIB.config.fileUpload&&(CIB.config.fileUpload.fileSizeLimitationLongContext=kt,CIB.config.fileUpload.audioFileSizeLimitation=dt,CIB.config.fileUpload.fileNameLengthLimitation=gt,CIB.config.fileUpload.fileMaxCountForGptCreator=ni,CIB.config.fileUpload.fileMaxCountForChat=ti)}function he(){var e,o,s,h,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ft=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableShareWholeThreadMockUp,!1),et=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableThreadShareLandingPage,!1),ot=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableShareConversation,!1),st=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableShareThreadWithNoCache,!1),ht=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableWholeThreadPerformanceFix,!1),ct=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableShareCurrentThreadMessagesfromAPI,!1),lt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableThreadShareWithoutRenderCardRequest,!1),at=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableGetConversationAPIWithSNRProxy,!1),vt=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableGetSharedMessagesAPIWithSNRProxy,!1),yt=t((p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableBICHistory,!1),pt=t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.enable2TScreenshot,!1),wt=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.enable2TScreenshotSnR,!1),ut=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.enableThreads,!1),kt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.enableThreadsCF,!1),dt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.enableGPTCreator,!1),gt=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.isGptCreator,!1),ni=t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.isCCP,!1),n,u,bt;if(ft&&(CIB.config.features.enableShareWholeThreadMockUp=ft),et&&(CIB.config.features.enableThreadShareLandingPage=et),ot&&(CIB.config.features.enableShareConversation=ot),st&&(CIB.config.features.enableShareThreadWithNoCache=st),ht&&(CIB.config.features.enableWholeThreadPerformanceFix=ht),ct&&(CIB.config.features.enableShareCurrentThreadMessagesfromAPI=ct),lt&&(CIB.config.features.enableThreadShareWithoutRenderCardRequest=lt),at&&(CIB.config.features.enableGetConversationAPIWithSNRProxy=at),vt&&(CIB.config.features.enableGetSharedMessagesAPIWithSNRProxy=vt),yt&&(CIB.config.features.enableBICHistory=yt),pt&&(CIB.config.features.enableAnswerScreenshot=pt),wt&&(CIB.config.features.enableAnswerScreenshotSnR=wt),ut){if(CIB.config.features.enableThreads=ut,n=t((it=_w._sydThreads)===null||it===void 0?void 0:it.threads,null),n&&n.length>0)for(u=0;u<n.length;u++)CIB.addThread(n[u]);bt=t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.threadsAutoSaveOptionset,"autosave");f(CIB.config.sydney.request.optionsSets,bt)}(ut||kt)&&i(r.System,"THREADS","1","1");CIB.config.sydney.request.scenario!=="SERP"&&hr()}function ce(){var n,i,r,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableTypingIndicatorAnimation,!1),f=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableTypingIndicatorDemoteStyle,!1),e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.typingIndicatorAnimationDuration,du);u&&(CIB.config.features.enableTypingIndicatorAnimation=!0,CIB.config.messaging.typingIndicatorAnimationDuration=e);f&&(CIB.config.features.enableTypingIndicatorDemoteStyle=!0)}function le(){var n,i,r,u,f,e,o,s,h,c,a=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAdSlugsDesktop,!1),v=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableAdSlugsMobile,!1),y=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSearchQueryForInlineAds,!1),p=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableDevFormOverrideForAds,!1),w=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableFixForInlineAdsSQ,!1),l=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.codexPartnerScenario,""),b=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableRenderChatAdsOnSerp,!1),k=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableInlineAdsProcessingV2,!1),d=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableInlineAdsContainer,!1),g=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.disableHoverAdsClickout,!1);a&&(CIB.config.features.enableAdSlugsDesktop=!0);v&&(CIB.config.features.enableAdSlugsMobile=!0);y&&(CIB.config.features.enableSearchQueryForInlineAds=!0);p&&(CIB.config.features.enableDevFormOverrideForAds=!0);w&&(CIB.config.features.enableFixForInlineAdsSQ=!0);l!==""&&(CIB.config.sydney.request.scenario=l);b&&(CIB.config.features.enableSlottedContentForAds=!0,CIB.config.features.enableSlottedContentForInlineAds=!0);k&&(CIB.config.features.enableInlineAdsProcessingV2=!0);d&&(CIB.config.features.enableInlineAdsContainer=!0);g&&(CIB.config.features.enableApplyLinkToHoverAds=!1);CIB.config.features.enableInlineAdsDynamicWidth=!0}function ae(){var n=_w._sydConvConfig,u=t(n===null||n===void 0?void 0:n.enableShopgptWebcomponents,!1),r,i;u&&(CIB.config.features.enableInlineComponents=!0,CIB.config.features.enableDynamicWebcomponent=!0);r=t(n===null||n===void 0?void 0:n.enableShopgptShoppingSkills,!1);r&&(i=t(n===null||n===void 0?void 0:n.shopgptShoppingSkillsOptionset,""),i&&f(CIB.config.sydney.request.optionsSets,i))}function ve(){var n,i,r,u,f,e,o,s=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSydneySapphireUpsellMessageActions,!1),h=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydneySapphireUpsellEndOfChat,!1),c=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydneySapphireUpsellVisualSearch,!1),l=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.sydneySapphireUpsellTreatment,0),a=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isAccountLinkedWithActiveAAD,!1),v=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.sydneyContinueOnPhoneShortenQRCodeUrl,"https://bingapp.microsoft.com/bing?style=newbing"),y=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.sydSapphireUpsellVisualSearchQRCodeUrl,"https://bingapp.microsoft.com/bing?adjust=13uz7blz_13evwnmy");s&&!a&&(CIB.config.features.enableSydSapphireUpsellOnMessageActions=s,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=l,CIB.config.mobileUpsell.qrCodeBaseUrl=v);h&&(CIB.config.features.enableSydSapphireUpsellOnEndOfChat=h,CIB.config.mobileUpsell.sydSapphireUpsellTreatment=l);c&&(CIB.config.features.enableSydSapphireUpsellVisualSearch=c,CIB.config.mobileUpsell.qrCodeVisualSearchUrl=y)}function ye(){var i,r,u,f,e,o,h,l=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.sydOptionSets,!1),a=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.isSydCorpnet,!1),v=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.noInitOpts,!1),y=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.extraSappOptions,""),p=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.extraEdgeOptions,""),w=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.extraBceOptions,""),k=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.removeDeepleo,!1),d=new URLSearchParams(_w.location.search.toLowerCase()),b=d.get(fu.toLowerCase()),n,c;(v||l!=""||a&&b||y||p||w)&&(n=v?[]:CIB.config.sydney.request.optionsSets,n=s(n,l),a&&(n=s(n,b)),n=s(n,y),n=s(n,p),n=s(n,w),k&&(c=n.indexOf("deepleo"),c>=0&&n.splice(c,1)),CIB.config.sydney.request.optionsSets=n)}function pe(){var s,c,l,a,v,y,p,w,b,k,d,g,nt,tt,it,rt,ut,ft,et,ot,st,bt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.toneDefault,((c=_w._sydConvConfig)===null||c===void 0?void 0:c.isCCP)?n.CREATIVE_TONE:n.BALANCED_TONE),kt=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.userPriorityLevel,999),dt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableUserPriorityLevel,!1),vt=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableTonePerf,!1),at;o=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableNoToneOpt,!1);((p=_w._sydConvConfig)===null||p===void 0?void 0:p.shareLoadingUI)&&(CIB.config.features.enableShareLoadingUI=!0);var i=!dt||kt>0,ht=i?t((w=_w._sydConvConfig)===null||w===void 0?void 0:w.balTone,""):"harmonyv3",ct=t((b=_w._sydConvConfig)===null||b===void 0?void 0:b.crtTone,""),lt=t((k=_w._sydConvConfig)===null||k===void 0?void 0:k.prcTone,""),yt=t((d=_w._sydConvConfig)===null||d===void 0?void 0:d.sydBalOpts,""),pt=t((g=_w._sydConvConfig)===null||g===void 0?void 0:g.sydCrtOpts,""),wt=t((nt=_w._sydConvConfig)===null||nt===void 0?void 0:nt.sydPrcOpts,""),r=i?t((tt=_w._sydConvConfig)===null||tt===void 0?void 0:tt.sydBalExtraOpts,""):"",f=i?t((it=_w._sydConvConfig)===null||it===void 0?void 0:it.sydCrtExtraOpts,""):"",e=i?t((rt=_w._sydConvConfig)===null||rt===void 0?void 0:rt.sydPrcExtraOpts,""):"";yt&&(r+=(r!==""?",":"")+yt);pt&&(f+=(f!==""?",":"")+pt);wt&&(e+=(e!==""?",":"")+wt);r&&(h.Balanced=r.split(","));f&&(h.Creative=f.split(","));e&&(h.Precise=e.split(","));(ht||o&&ht=="")&&(u[n.BALANCED_TONE]=ht);(ct||o&&ct=="")&&(u[n.CREATIVE_TONE]=ct);(lt||o&&lt=="")&&(u[n.PRECISE_TONE]=lt);vt&&(CIB.config.features.enableTonePerf=vt);CIB.config.features.enableGPT4TurboSwitch=t((ut=_w._sydConvConfig)===null||ut===void 0?void 0:ut.enableGPT4TurboSwitch,!1);CIB.config.features.enableResponseToneSelector=!0;CIB.config.features.enablePersistentResponseToneSelector=t((ft=_w._sydConvConfig)===null||ft===void 0?void 0:ft.enablePersistentToneSelector,!1);CIB.config.features.enableResponseToneObjects=(ot=(et=_w._sydConvConfig)===null||et===void 0?void 0:et.enableSuppressTones)!==null&&ot!==void 0?ot:!1;CIB.config.features.enableResponseToneColorThemes=!0;at=Object.keys(u);((st=_w._sydConvConfig)===null||st===void 0?void 0:st.enableSuppressTones)?CIB.config.sydney.responseTones=at.map(function(n){var t,i,r=(i=(t=_w._sydConvConfig)===null||t===void 0?void 0:t["suppressKnob".concat(n)])!==null&&i!==void 0?i:0;return{tone:n,disabled:r}}):CIB.config.sydney.responseToneOptions=at;ro(bt);fo()}function pt(i){var u,f,e,o,s,h,r,c;(t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableSyntheticStreamSpeedBasedOnTone,!1)&&(r=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.syntheticStreamSpeed,ri),i===n.BALANCED_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.syntheticStreamSpeedForBalancedTone,r)),i===n.CREATIVE_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.syntheticStreamSpeedForCreativeTone,r)),i===n.PRECISE_TONE&&(CIB.config.messaging.messageBufferWorkerStreamDelayMS=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.syntheticStreamSpeedForPreciseTone,r))),c=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableStreamSyntheticTextResponses,!1),c)&&(CIB.config.messaging.streamSyntheticTextResponses=we(i))}function we(i){var r,f,e,s=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableStreamSyntheticTextResponsesForBalancedTone,!1),h=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableStreamSyntheticTextResponsesForCreativeTone,!1),c=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableStreamSyntheticTextResponsesForPreciseTone,!1);return s&&(i===n.BALANCED_TONE&&u[n.BALANCED_TONE]==="galileo"||o&&u[n.BALANCED_TONE]==="")||h&&(i===n.CREATIVE_TONE&&u[n.CREATIVE_TONE]==="h3imaginative"||o&&u[n.CREATIVE_TONE]==="")||c&&(i===n.PRECISE_TONE&&u[n.PRECISE_TONE]==="h3precise"||o&&u[n.PRECISE_TONE]==="")}function be(n){if(!n)return it.Demote;for(var t in it)if(t.toLowerCase().trim()===n.toLowerCase().trim())return it[t];return it.Demote}function ke(){var t=sj_cook.get(n.userCook,uf),i=be(t);CIB.config.sydney.bingFirstPageAdultFilter=i}function de(n){tr=n}function ge(){return tr}function cr(){var i,r=sj_cook.get(n.userCook,l),e;if(a){var o=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.bceTermsOfUseVersion,1),u=sj_cook.get(si,l),s=!!r||!!u,f=s?Number(r)||Number(u)||1:0;return!!f&&f>=o}return e=sj_cook.get(b,b),r===e}function no(){var u,f,e,o,s,h,c,v,y,d=sj_cook.get(b,b),g=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.bceTermsOfUseVersion,1),w=a?g.toString():d,p,k;sj_cook.set(n.userCook,l,w,!0,"/",null);sj_cook.set(si,l,w,!0,"/",null);i(r.System,"MuidConsentProvided","MuidUser",{IsConsent:"1"});CIB.config.sydney.muidUserConsentGiven=!0;CIB.config.features.enableSuggestionBarInUnexpandedChatAnswer&&(p=(o=(e=(f=_d.querySelector(".b_ans #b_sydTigerCont"))===null||f===void 0?void 0:f.querySelector("cib-serp"))===null||e===void 0?void 0:e.shadowRoot)===null||o===void 0?void 0:o.querySelector("cib-see-more-container"),k=(y=(v=(c=(h=(s=_d.querySelector(".b_ans #b_sydTigerCont"))===null||s===void 0?void 0:s.querySelector("cib-serp"))===null||h===void 0?void 0:h.shadowRoot)===null||c===void 0?void 0:c.querySelector("cib-conversation"))===null||v===void 0?void 0:v.shadowRoot)===null||y===void 0?void 0:y.querySelector("cib-suggestion-bar"),p&&k&&p.setAttribute("has-suggestions","true"))}function to(){if(typeof CIB.version!="undefined"&&CIB.version&&CIB.version.version&&typeof sj_cook!="undefined"&&sj_cook){var t=CIB.version.version,u=sj_cook.get(n.userCook,hi);u&&u===t||(sj_cook.set(n.userCook,hi,t,!0,"/",null),i(r.System,"CIB","CIBInfo",{version:t}))}}function io(){var n,u=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.DedicatedIpType,"unknown");["nochat","nochatstrict"].indexOf(u)>-1&&i(r.System,"NoChatVariant","NoChatVariantInfo",{DedicatedIpType:u})}function wt(){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableToneCookExpiry,!1),u=r?n.toneCook:n.userCook;return sj_cook.get(u,n.toneCrumb)}function ro(e){var s,h,l,a,v,y,k=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableToneCookExpiry,!1),p=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableBalancedSerp,!1),g=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableAlwaysCreativeSerp,!1),nt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableAlwaysBalancedSerp,!1),it=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableSuperOptionsSets,!1),ft=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableBalancedSerpLog,!1),o=wt(),b,d;if(ft&&o!=n.BALANCED_TONE&&i(r.System,"BalSerpOverride","Tone",{tone:o}),lr(o),eo()){b=rt(ui).toLowerCase().trim();CIB.responseTone=tt[b];bt(CIB.responseTone,!1,k);i(r.System,"SET_TONE_FROM_URL",b,"");i(r.System,w,"Tone",{tone:CIB.responseTone});return}g?(o=n.CREATIVE_TONE,CIB.responseTone=o):nt?(o=n.BALANCED_TONE,CIB.responseTone=o):!p&&o!=null&&u.hasOwnProperty(o)?(CIB.responseTone=o,i(r.System,w,"Tone",{tone:o})):(k&&(d=sj_cook.get(n.userCook,n.hasSetToneCrumb),d=="1"&&(sj_cook.set(n.userCook,n.hasSetToneCrumb,"0",!0,"/",null),i(r.System,"ResetTone","Tone",{}))),CIB.responseTone=e,o=e,i(r.System,"DefaultTone","Tone",{tone:o}));it&&f(CIB.config.sydney.request.optionsSets,gu);vt=CIB.config.sydney.request.optionsSets.length;!p&&u.hasOwnProperty(o)?(f(CIB.config.sydney.request.optionsSets,u[o]),CIB.config.sydney.request.optionsSets=ut(CIB.config.sydney.request.optionsSets,o),c=o,pt(c)):p&&u.hasOwnProperty(n.BALANCED_TONE)&&(f(CIB.config.sydney.request.optionsSets,u[n.BALANCED_TONE]),CIB.config.sydney.request.optionsSets=ut(CIB.config.sydney.request.optionsSets,n.BALANCED_TONE),c=n.BALANCED_TONE,pt(n.BALANCED_TONE))}function uo(n){var u,f=n&&n.length>1?n[1]:null,e=f?f.toLowerCase().trim():"",o,s;f&&tt.hasOwnProperty(e)&&(o=n&&n.length>2?n[2]:!1,s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableToneCookExpiry,!1),CIB.responseTone=tt[e],bt(CIB.responseTone,o,s),i(r.System,w,"Tone",{tone:CIB.responseTone}))}function fo(){var n,u,f;sj_evt.bind(tf,uo,!0);var e=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableToneCookExpiry,!1),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isCompliantSydneyEndpointEnabled,!1),s=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableToneChangedLogs,!1);if(!o&&CIB.onResponseToneChanged)CIB.onResponseToneChanged(function(n){bt(n,!0,e)});if(s)CIB.onResponseToneChanged(function(n){i(r.System,"ToneChanged","Tone",{newTone:n})})}function rt(n){var i=_w.location.search,r=new URLSearchParams(i),t=r.get(n);return t?t:""}function eo(){var n,r=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableSetToneFromUrl,!1),i;return r?(i=rt(ui),i&&tt.hasOwnProperty(i.toLowerCase().trim())):!1}function bt(t,i,r){var l=[u[t]].concat(h[t]).toString(),s,e;t!==wt()&&yr("ChangedTone","Tone",{newTone:t});i&&(r?(s=so(),sj_cook.set(n.toneCook,n.toneCrumb,t,!0,"/",s),sj_cook.set(n.toneCook,n.toneOptsCrumb,l,!0,"/",s),sj_cook.set(n.userCook,n.hasSetToneCrumb,"1",!0,"/",null)):(sj_cook.set(n.userCook,n.toneCrumb,t,!0,"/",null),sj_cook.set(n.userCook,n.toneOptsCrumb,l,!0,"/",null)));u.hasOwnProperty(t)&&(e=vr(CIB.config.sydney.request.optionsSets,Object.keys(u)),e!==-1?o&&u[t]===""?(vt=e,CIB.config.sydney.request.optionsSets.splice(e,1)):CIB.config.sydney.request.optionsSets[e]=u[t]:o?f(CIB.config.sydney.request.optionsSets,u[t],vt):f(CIB.config.sydney.request.optionsSets,u[t]),CIB.config.sydney.request.optionsSets=ut(CIB.config.sydney.request.optionsSets,t,c),lr(CIB.responseTone),c=t,pt(c))}function lr(i){var r,u,e=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableThreadsConsent,!1),o=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.isBingUserSignedIn,!1);e&&o&&i!==n.BALANCED_TONE?(f(CIB.config.sydney.request.optionsSets,"enable_user_consent"),f(CIB.config.sydney.request.optionsSets,"fluxmemcst")):(ft(CIB.config.sydney.request.optionsSets,"enable_user_consent"),ft(CIB.config.sydney.request.optionsSets,"fluxmemcst"))}function oo(){var u,f,e,o=n.getConfigOrDefault((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableBalancedSerp,!1),t,i,s;o&&!ki&&(ki=!0,o&&(t=n.getCookieTone(),t!=null&&t!=n.BALANCED_TONE&&(i=CIB.manager.conversation._lastMessage,s=(e=(f=CIB===null||CIB===void 0?void 0:CIB.config)===null||f===void 0?void 0:f.greeting)===null||e===void 0?void 0:e.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,n.shouldResetBotGreeting=!1,CIB.responseTone=t,n.lastQuery="",i&&i.text&&CIB.registerContext([{author:"bot",source:"serpBalResp",text:i.text}]),n.shouldResetBotGreeting=!0,CIB.config.greeting.shouldSendBotGreeting=s,n.SydLog(r.System,"SetCookToneAfterSERP","Tone",{tone:t}))))}function ar(n){var i,r=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isCompliantSydneyEndpointEnabled,!1);n&&!r&&(CIB.config.speech.language=n,f(CIB.config.sydney.request.optionsSets,"cdxslang"))}function so(){var n=new Date;return n.setDate(n.getDate()+(n.getHours()<2?1:2)),n.setHours(2),n.setMinutes(0),n.setSeconds(0),n.setMilliseconds(0),(n.getTime()-(new Date).getTime())/6e4}function ut(n,t,i){return i===void 0&&(i=""),i!=""&&h.hasOwnProperty(i)&&(n=ho(n,h[i])),t!=""&&h.hasOwnProperty(t)&&h[t].forEach(function(t){f(n,t)}),n}function f(n,t,i){i===void 0&&(i=-1);t&&n.indexOf(t)<0&&(i<0?n.push(t):n.splice(i,0,t))}function ft(n,t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}function ho(n,t){return t.forEach(function(t){var i=n.indexOf(t);i>=0&&n.splice(i,1)}),n}function vr(n,t){for(var f,r,i=0;i<t.length;i++)if(f=t[i],r=n.indexOf(u[f]),r>=0)return r;return-1}function kt(n,t){var i={};return t?n.locType&&(i.LocationType=n.locType):n.accuracy&&(i.Accuracy=n.accuracy),n.state&&(i.State=decodeURI(n.state)),n.city&&(i.City=decodeURI(n.city)),n.lat&&n.long&&(i.Center={Latitude:parseFloat(n.lat),Longitude:parseFloat(n.long)}),n.source&&(i.LocationSource=n.source),n.altitude&&(i.Altitude=n.altitude),n.altitudeAcc&&(i.AltitudeAccuracy=n.altitudeAcc),n.displayName&&(i.DisplayName=n.displayName),n.name&&(i.Name=n.name),n.heading&&(i.Heading=n.heading),n.isValidLocation&&(i.IsValidLocation=n.isValidLocation),n.range&&(i.Radius=n.range),n.speed&&(i.Speed=n.speed),n.ts&&(i.Timestamp=n.ts),n.ets&&(i.ExpiryTimestamp=n.ets),i}function co(){var t=(new Date).getTimezoneOffset(),r=Math.floor(Math.abs(t/60)),u=Math.abs(t%60),i;t<0?i="+"+e(r)+":"+e(u):t>0?i="-"+e(r)+":"+e(u):t==0&&(i="Z");var n=new Date,f=n.getDate(),o=n.getMonth()+1,s=n.getFullYear(),h=n.getHours(),c=n.getMinutes(),l=n.getSeconds();return e(s)+"-"+e(o)+"-"+e(f)+"T"+e(h)+":"+e(c)+":"+e(l)+i}function e(n){return n<10?"0"+n:n}function s(n,t){if(t){var i=t.split(",");return n.concat(i)}return n}function t(n,t){return typeof n!="undefined"?n:t}function lo(n){var t=__spreadArray([],CIB.config.sydney.request.optionsSets,!0),i;return u.hasOwnProperty(n)&&(i=vr(t,Object.keys(u)),i!==-1&&(t[i]=u[n]),t=ut(t,n,c)),t}function ao(){var t,r=n.getConfigOrDefault((t=_w._sydConvConfig)===null||t===void 0?void 0:t.enableChatPageCookieBannerFix,!1),i;return r?(i=_ge("bnp_cookie_banner"),i&&_w&&_w.getComputedStyle(i).display!=="none"):!1}function i(n,i,r,u){var e,o,s,h,c,l,a,f,v,y,p,w,b,k;u===void 0&&(u=null);f=[];v=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isCompliantSydneyEndpointEnabled,!1);v&&f.push("IsBizChat",v.toString());y=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.isBingChatForEnterprise,!1);y&&f.push("IsBCE",y.toString());p=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isBingChatForFaculty,!1);w=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.isBingChatForStudents,!1);p&&f.push("IsBCSFaculty","true");w&&f.push("IsBCSStudent","true");b=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableTelemetryPrivacy,!1);b&&(u=vo(u));k=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableCompliantLoggerSNR,!1);typeof MsbSydneyHelper!="undefined"&&k&&((a=MsbSydneyHelper.compliantLog)===null||a===void 0?void 0:a.call(MsbSydneyHelper,n,i,u,f));u==null?Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r],f,!1)):Log.Log.apply(Log,__spreadArray([n,"Codex",i,!1,"Namespace",r,"CustomData",JSON.stringify(u)],f,!1))}function vo(n){return n?(hf.forEach(function(t){var i,r;n[t]!==undefined&&(n[t]=lt);((i=n.CustomData)===null||i===void 0?void 0:i[t])!==undefined&&(n.CustomData[t]=lt);((r=n.EncryptedData)===null||r===void 0?void 0:r[t])!==undefined&&(n.EncryptedData[t]=lt)}),n):n}function yr(n,t,u){i(r.Interaction,n,t,u)}function yo(){if(history&&(n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}),sj_be(_w,"popstate",function(i){var f,e,o,s,h,c,l,a,v,y,p,w,r,u;n.enableBingChatPath=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableBingChatPath,!1);n.enableConvModeSwitchAjax=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableConvModeSwitchAjax,!1);var nt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableNotebookMode,!1),b=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableBackFromNotebook,!1),tt=nt&&b&&_G[n.SYD_MODE]==="notebook";if(n.enableConvModeSwitchAjax)if(r=_w._currentRoute,_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search},n.enableBingChatPath){if(u=_ge("sb_form_q"),et((h=_w._currentRoute)===null||h===void 0?void 0:h.search)!=(u===null||u===void 0?void 0:u.value)&&(_w._isConvAjaxUpdated||((l=(c=_w._currentRoute)===null||c===void 0?void 0:c.state)===null||l===void 0?void 0:l.ajaxserp)===!0)){var k=_w.location,d=k.href,g=d.indexOf("/search");if(g>=0){window.location.reload();return}}}else{if(tt){sj_evt.fire("switchToConversation");sj_evt.fire("showSydFSC",undefined,undefined,undefined,!0);return}if(et(r===null||r===void 0?void 0:r.search)!=et((a=_w._currentRoute)===null||a===void 0?void 0:a.search)&&(_w._isConvAjaxUpdated||((y=(v=_w._currentRoute)===null||v===void 0?void 0:v.state)===null||y===void 0?void 0:y.ajaxserp)===!0)){var k=_w.location,d=k.href,g=d.indexOf("/search");if(g>=0){window.location.reload();return}}}((p=i===null||i===void 0?void 0:i.state)===null||p===void 0?void 0:p.inConvMode)?_G[n.SYD_MODE]=="serp"?sj_evt.fire("showSydFSC",null,null,!1,!0):b&&_G[n.SYD_PREV_MODE]==="notebook"&&sj_evt.fire("showNotebook"):((w=i===null||i===void 0?void 0:i.state)===null||w===void 0?void 0:w.inConvMode)||_G[n.SYD_MODE]!="conversation"||(sj_evt.fire("preHideSydFSCByHistory"),sj_evt.fire("hideSydFSC",!0))}),URLSearchParams)){var i=new URLSearchParams(window.location.search);wi=i.get("showconv")==="1"}}function po(u){var f,e,o,s,h,c=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.isNewBingChat,!1),l=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enableDynamicFormCode,!1);if(n.enableBingChatPath=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableBingChatPath,!1),history){if((wi||c)&&bi&&u){bi=!1;history.replaceState({inConvMode:u},document.title||"");n.enableConvModeSwitchAjax=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","replace",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search});c&&(_w._chatRoute=_w.location.pathname);return}pi?pr(u):n.enableBingChatPath?c&&l?sj_evt.bind("ConvModeNavigate",function a(n){var t=n&&n.length>1?n[1]:null;wr(u,t);sj_evt.unbind("ConvModeNavigate",a)}):wr(u,null):(history.pushState({inConvMode:u},document.title||""),n.enableConvModeSwitchAjax=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.enableConvModeSwitchAjax,!1),i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u}),n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search}))}}function pr(u){var f,e=new URL(window.location.href);e.searchParams.set("showconv",u?"1":"0");history.pushState({inConvMode:u},v(u),e);n.enableConvModeSwitchAjax=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u,Paramflag:1});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}function wo(){var t,n=new URL(window.location.href);((t=n===null||n===void 0?void 0:n.searchParams)===null||t===void 0?void 0:t.get("showntbk"))||(n.searchParams.append("showntbk","1"),history.pushState({inConvMode:!0},v(!0),n))}function bo(){var t,n=new URL(window.location.href),i=(t=n===null||n===void 0?void 0:n.searchParams)===null||t===void 0?void 0:t.get("showntbk");i==="1"&&(n.searchParams["delete"]("showntbk"),history.replaceState({inConvMode:!0},v(!0),n))}function wr(u,f){var e,o,h=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.isMobileHost,!1);if(!h){var s=_ge("sb_form_q"),c=_ge("sb_form"),l=_w._chatRoute||"/chat",a=u?l:"/search";history.pushState({inConvMode:u},v(u),a+"?q="+encodeURIComponent(f||(s===null||s===void 0?void 0:s.value)||"Bing AI")+ko(c));n.enableConvModeSwitchAjax=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enableConvModeSwitchAjax,!1);i(r.System,"SydHistory","push",{enableConvModeSwitchAjax:n.enableConvModeSwitchAjax,showconv:u,Paramflag:1});n.enableConvModeSwitchAjax&&(_w._currentRoute={state:_w.history.state,href:_w.location.href,search:_w.location.search})}}function ko(n){var r="",i,t,u;if(!n)return r;for(i=n.getElementsByTagName("input"),t=0;t<i.length;t++)i[t].type==="hidden"&&i[t].name!="form"&&(r+="&"+i[t].name+"="+encodeURIComponent(i[t].value));return u=_w._ncpformCode||(_w._isConvAutoHide?"ATCVAJ":"CONVAJ"),r+"&form="+u}function v(n){return g&&nt?n?g:nt:document.title}function go(n){g&&nt&&(document.title=v(n))}function ns(){var t,n;((t=history===null||history===void 0?void 0:history.state)===null||t===void 0?void 0:t.inConvMode)&&(n=_ge("sb_form_q"),n&&n.value?sj_evt.fire("showSydFSC",n.value):sj_evt.fire("showSydFSC"))}function ts(){function w(n){if(n&&n.length>=2){var t=n[1].waitlist;t&&t=="2"&&(CIB.config.features.enableMUIDUserMode=!1,CIB.config.messaging.maxTurnsPerConversation=it,sj_evt.unbind("rewready",w))}}var i,r,u,f,e,o,s,h,c,l,d=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableSydTigerAns,!1),g=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableSydAjaxReset,!1),y,p,a,b,k,v;CIB.onModeChanged(function(t){switch(t){case"conversation":sj_evt.fire("showSydFSC");CIB.config.sydney.request.scenario==="SERP"&&hr();break;case"off-stage":if(n.ignoreFirstOffStage){n.ignoreFirstOffStage=!1;CIB.showConversation();break}sj_evt.fire("hideSydFSC");break;default:Log.Log("ClientInst","Codex","ModeChangeError",!1,"CustomData",JSON.stringify({mode:t}))}});if(d&&(y=_ge("b_sydTigerCont"),y)){p=_d.querySelector("#b_pole #b_sydTigerCont")!=null;CIB.onSerpSlotSuggestionInvoked(function(){_G[n.SYD_MODE]!="conversation"&&(n.LogIntEvent("ConversationViewEnter",p?"Pole":"RightRail",{source:"ChatBubble"}),sj_evt.fire("showSydFSC"))});a=_ge("sb_form_q");a&&(CIB.config.sydney.slottedModeTurnIndex=ru()&&((e=(f=(u=CIB===null||CIB===void 0?void 0:CIB.vm)===null||u===void 0?void 0:u.conversation)===null||f===void 0?void 0:f.turns)===null||e===void 0?void 0:e.length)?Math.max(CIB.vm.conversation.turns.length-1,0):0,n.lastQuery=a.value.toLowerCase().trim())}g&&sj_evt.bind("ajax.unload",function(){var n,t,i,r,u,f,e,o,s,h,c;CIB&&(c=(t=(n=CIB===null||CIB===void 0?void 0:CIB.config)===null||n===void 0?void 0:n.greeting)===null||t===void 0?void 0:t.shouldSendBotGreeting,CIB.config.greeting.shouldSendBotGreeting=!1,(u=(r=(i=CIB===null||CIB===void 0?void 0:CIB.manager)===null||i===void 0?void 0:i.stream)===null||r===void 0?void 0:r.subscription)===null||u===void 0?void 0:u.dispose(),(e=(f=CIB===null||CIB===void 0?void 0:CIB.manager)===null||f===void 0?void 0:f.stream)===null||e===void 0?void 0:e.complete(),(s=(o=CIB===null||CIB===void 0?void 0:CIB.manager)===null||o===void 0?void 0:o.stream)===null||s===void 0?void 0:s.finalizeStreamSubscription(),(h=CIB===null||CIB===void 0?void 0:CIB.manager)===null||h===void 0?void 0:h.resetConversation(),CIB.config.greeting.shouldSendBotGreeting=c)});var nt=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.codexMUIDUser,!1),tt=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.enableSigninTurnFix,!0),it=t((h=_w._sydConvConfig)===null||h===void 0?void 0:h.maxTurnsPerConversation,ct);if(nt&&tt&&sj_evt.bind("rewready",w,!0),CIB.onModalVisibilityChanged)CIB.onModalVisibilityChanged(function(n){var t=_ge("b_header");t&&(n?Lib.CssClass.add(t,yi):Lib.CssClass.remove(t,yi))});b=t((c=_w._sydConvConfig)===null||c===void 0?void 0:c.enableThreads,!1);k=t((l=_w._sydConvConfig)===null||l===void 0?void 0:l.isAccountLinkedWithActiveAAD,!1);!b&&k&&(v=_qs("body"),v&&Lib.CssClass.add(v,cf))}function is(){var t,i,r,u,f,e,o,s,h,l=(r=(i=(t=CIB===null||CIB===void 0?void 0:CIB.vm)===null||t===void 0?void 0:t.conversation)===null||i===void 0?void 0:i.model)===null||r===void 0?void 0:r.suggestions,n=document.activeElement,c;return!l||!n||n.nodeName!=="CIB-SERP"?"":(n=(s=(o=(e=(f=(u=n===null||n===void 0?void 0:n.shadowRoot)===null||u===void 0?void 0:u.activeElement)===null||f===void 0?void 0:f.shadowRoot)===null||e===void 0?void 0:e.activeElement)===null||o===void 0?void 0:o.shadowRoot)===null||s===void 0?void 0:s.activeElement,!n||n.nodeName!=="CIB-SUGGESTION-ITEM")?"":(n=(h=n===null||n===void 0?void 0:n.shadowRoot)===null||h===void 0?void 0:h.activeElement,!n||n.nodeName!=="BUTTON"||!n.textContent)?"":(c=n.textContent.trim(),l.find(function(n){return n.text.trim()===c}))?c:""}function dt(n){var t=_ge(n);t&&t.parentElement&&t.parentElement.removeChild(t)}function rs(n){CIB.processCachedResponse(n)}function br(n,t,i,r,u,f,e){n===void 0&&(n="");t===void 0&&(t="");i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);e===void 0&&(e=!1);sj_evt.fire("showSydFSC",n,t,r,u,i,f,e)}function et(n){var r=new RegExp("[?&]{1}q=([^&]+)"),t=n.match(r),i=t?t[1]:null;return i?decodeURIComponent(i.replace("+"," ")):""}function y(){var i,r,u,e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.isSapphireClient,!1),f,n;return e?et(_w.location.search):(f=typeof sj_b!="undefined"&&sj_b!=null?sj_b:_d.body,n=f.querySelectorAll("textarea.b_searchbox, input.b_searchbox:not(#uaseabox)"),!n||n.length<=0)?"":(u=(r=n[0])===null||r===void 0?void 0:r.getAttribute("value"))!==null&&u!==void 0?u:""}function us(){var t=new URLSearchParams(_w.location.search),i=t.get(fi);i&&(n.lastQuery=y().toLowerCase().trim())}function kr(n,t,i,r,u,f){var o,e,s;t===void 0&&(t=!1);i===void 0&&(i="");r===void 0&&(r="");u===void 0&&(u=!1);f===void 0&&(f=!1);o="";t&&(o=y());e=i;e||(s=_d.querySelector(".b_ans #b_wpt_data"),s&&(e=s.getAttribute("data-sydctx")));br(n,e,o,r,!1,u,f)}function fs(n,t){n===void 0&&(n="");t===void 0&&(t="");var i=y();kr(i,!1,n,t,!1,!0)}function es(t){n.isSydFSCEligible=t}function os(n){for(var i=[],t=1;t<arguments.length;t++)i[t-1]=arguments[t]}function ss(){sj_evt.fire("clarity.trigger","cibChat")}function hs(n,t,i){return!n||t&&(!i||i.toLowerCase().trim()!==y().toLowerCase().trim())}function cs(t,i){var l,a,v,y,p,w,b,k,it,o,d,u,e,s,tt,ht,h,ct,r,c,lt,at,vt,yt;i===void 0&&(i=!1);it=n.getConfigOrDefault((l=_w._sydConvConfig)===null||l===void 0?void 0:l.enableSydCarouselHistory,!1);dr();var f=sj_ce("div","b_metaCont"),rt=sj_ce("div","b_metaCont_Title"),pt=n.getConfigOrDefault((a=_w._sydConvTranslation)===null||a===void 0?void 0:a.sydneyCarouselTitle,"");rt.textContent=pt;f.appendChild(rt);o=sj_ce("div","b_meta_bot");f.appendChild(o);d=sj_ce("div","b_metaChat");u=sj_ce("div","b_metaCont_PillCont","b_meta_hideEx");i?u.appendChild(d):o.appendChild(d);o.appendChild(u);var ut=n.getConfigOrDefault((v=_w._sydConvConfig)===null||v===void 0?void 0:v.carouselQueries,""),wt=n.getConfigOrDefault((y=_w._sydConvConfig)===null||y===void 0?void 0:y.sydCarPropQuery,!1),ft=ut?ut.split(","):null,g=ft?ft:CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text&&n.text!="Generating answers for you..."}).map(function(n){var i,r,t=(r=(i=n.text)===null||i===void 0?void 0:i.split("`"))!==null&&r!==void 0?r:[];return t.length==1?t[0]:t.length==3?t[1]:""}).filter(function(n){return n}),et=0,bt=i?_w.innerWidth-ti-wu:pu,kt=_w.innerWidth-ti-ii,ot=!i,st=bt-ii,gt=CIB.vm.conversation.model._id,nt=!0;for(e=g.length-1;e>=0;e--)s=g[e],nt&&(tt=ls(s)+2*bu+ku,et+tt<st?et+=tt:ot?(nt=!1,ht=e+1,h=sj_ce("div","b_meta_exp","b_metaCont_Pill"),h.innerText="+"+ht.toString(),sj_be(h,"click",function(){Lib.CssClass.add(u,"b_metaExpanded")}),u.append(h)):(st=kt,ot=!0)),ct="cdxche",r=sj_ce("a",null,"b_metaCont_Pill"+(nt?"":" b_hide")),r.href=_w.location.origin+_w.location.pathname+"?q="+s+"&form="+ct,it&&(r.href=r.href+"&convid="+gt),wt&&(r.href=r.href+"&features=sydcarousel,sydcpropq"),r.textContent=s,r.target="_blank",sj_be(r,"click",function(t){var r=_ge("CodexCarouselInstLink"),i;_w.si_ct&&_w.si_ct(r);i=t===null||t===void 0?void 0:t.target;n.LogIntEvent("QueryCarouselClick","QueryCarousel",{query:i===null||i===void 0?void 0:i.textContent})}),u.appendChild(r);c=sj_ce("div","b_meta_col","b_metaCont_Pill b_hide");c.innerText=n.getConfigOrDefault((p=_w._sydConvTranslation)===null||p===void 0?void 0:p.sydneyCarouselCollapse,"Collapse");sj_be(c,"click",function(){Lib.CssClass.remove(u,"b_metaExpanded")});u.append(c);g.length>0&&(lt=n.getConfigOrDefault((w=_w._sydConvConfig)===null||w===void 0?void 0:w.suppressAlsoTryWhenEnableSydCarousel,!1),lt&&dt("b_alsotry"),at=n.getConfigOrDefault((b=_w._sydConvConfig)===null||b===void 0?void 0:b.suppressPoleRSWhenEnableSydCarousel,!1),at&&dt("brspole"),vt=n.getConfigOrDefault((k=_w._sydConvConfig)===null||k===void 0?void 0:k.suppressPoleRecommendedSearchWhenEnableSydCarousel,!1),vt&&dt("polerecommendedsearch"),t.children.length>0?(yt=_w.getComputedStyle(t,null),yt.paddingLeft=="0px"&&Lib.CssClass.add(f,"b_metaPadding"),t.insertBefore(f,t.children[0])):t.appendChild(f),sj_evt.fire(nf))}function ls(n){var i=sj_ce("canvas"),t=i.getContext("2d");return t.font="14px Roboto",t.measureText(n).width}function dr(){var n=_ge("b_metaCont");n&&n.parentElement&&n.parentElement.removeChild(n)}function as(){var n,t,i;((t=(n=CIB.config)===null||n===void 0?void 0:n.knowledgeCards)===null||t===void 0?void 0:t.query)&&(CIB.config.knowledgeCards.query.IG=_G.IG,CIB.config.knowledgeCards.query.IID=(i=_ge("b_sydConvCont"))===null||i===void 0?void 0:i.getAttribute("_iid"))}function gt(n,i,r){var f,e,o,s,h,c,l,a,v,y,p,w=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.disable2TSearchHistory,!1),k=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.enable2TTest,!1),b=t((o=_w._sydConvConfig)===null||o===void 0?void 0:o.enable2TResizeUpdate,!1),u=t((s=_w._sydConvConfig)===null||s===void 0?void 0:s.isMobileHost,!1);((c=(h=CIB===null||CIB===void 0?void 0:CIB.config)===null||h===void 0?void 0:h.answers)===null||c===void 0?void 0:c.query)&&(CIB.config.answers.query.IG=_G.IG,CIB.config.answers.query.IID=(l=_ge("b_sydConvCont"))===null||l===void 0?void 0:l.getAttribute("_iid"),CIB.config.answers.query.cw=n,CIB.config.answers.query.ch=i,w&&(CIB.config.answers.query.dissrchswrite="1"),b&&sj_be(_w,"resize",function(){CIB.config.answers.query.cw=st(u);CIB.config.answers.query.ch=ot(u)}));((v=(a=CIB===null||CIB===void 0?void 0:CIB.config)===null||a===void 0?void 0:a.ads)===null||v===void 0?void 0:v.query)&&(CIB.config.ads.query.IG=_G.IG,CIB.config.ads.query.IID=r?(y=_ge("CodexAdsInstLink"))===null||y===void 0?void 0:y.getAttribute("_iid"):(p=_ge("b_sydConvCont"))===null||p===void 0?void 0:p.getAttribute("_iid"),CIB.config.ads.query.cw=n,CIB.config.ads.query.ch=i,CIB.config.ads.query.form="codexx",w&&(CIB.config.ads.query.dissrchswrite="1"),b&&sj_be(_w,"resize",function(){CIB.config.ads.query.cw=st(u);CIB.config.ads.query.ch=ot(u)}));k&&SydneyTestHelper.set2TTestConfigs()}function vs(n,t){var i=st(n),r=ot(n);if(n)try{gt(i,r,t)}catch(u){Log.Log("CI.Error","SydneyMobile","ClientObserver not loaded")}else gt(i,r,t)}function ot(n){return n?ClientObserver?ClientObserver.getBrowserHeight():er():ClientObserver.getBrowserHeight()}function st(t){if(t){var i=ClientObserver?ClientObserver.getBrowserWidth():fr();return i-n.padding2TMobile<n.MIN_WIDTH_MOBILE?n.MIN_WIDTH_MOBILE:i-n.padding2TMobile}return ClientObserver.getBrowserWidth()}function gr(n){var i,r,u,f,e;n===void 0&&(n={autoSubmit:!1});r=nu();r&&CIB.addMessageWithData&&(u=t(!!((i=_w._sydConvConfig)===null||i===void 0?void 0:i.himgdirmsg),!0),f=decodeURI(r),typeof SydneyImageKnowledgeTestUtils!="undefined"&&(f=SydneyImageKnowledgeTestUtils.prepareMockedImageUrl()),e=[{type:"url",data:f}],n.autoSubmit&&!!n.isFirstMessage&&!!n.query&&CIB.sendSearchQueryWithData?CIB.sendSearchQueryWithData(n.query,{images:e},{hideImageInUserMessage:u}):CIB.addMessageWithData({text:n.query||"",images:e},n.autoSubmit,"",{hideImageInUserMessage:u}))}function ys(u,f,e,o,s){var a,v,y,p,w,b,k,d,g,nt,tt,it,h,c,rt,l;if(s===void 0&&(s=!1),tt=t((a=_w._sydConvConfig)===null||a===void 0?void 0:a.enableSydContext,!1),it=t((v=_w._sydConvConfig)===null||v===void 0?void 0:v.enableSQMsg,!1),n.enableConvModeSwitchAjax=t((y=_w._sydConvConfig)===null||y===void 0?void 0:y.enableConvModeSwitchAjax,!1),i(r.System,"TrySendingFirstQueryToChat","SerpToChatTransition",""),!iu(u,s))return!1;if(o&&n.enableConvModeSwitchAjax){if(n.isSmoothConvSwitchUpdatedPage())return!1;try{if(h=CIB.vm.conversation.model.messages.filter(function(n){return n.type==="meta"&&n.text!="Generating answers for you..."||n.type==="text"&&n.author==="user"}),h&&h.length>0&&(c=h[h.length-1].text.split("`"),rt=c.length==1?c[0]:c.length==3?c[1]:"",rt.toLowerCase()==u.toLowerCase()))return!1}catch(ht){}}l=[];e&&l.push({author:"user",text:e});f&&l.push({author:"bot",text:f});tt&&l.length!=0&&CIB.registerContext(l);var ut=(w=(p=_w._sydConvConfig)===null||p===void 0?void 0:p.enableSunoWelcomeMessage)!==null&&w!==void 0?w:!1,ft=(k=(b=_w._sydConvConfig)===null||b===void 0?void 0:b.enableSunoUpsell)!==null&&k!==void 0?k:!1,et=(g=(d=_w._sydConvConfig)===null||d===void 0?void 0:d.isMSAAuthenticated)!==null&&g!==void 0?g:!1,ot=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),st=ot.get("enablesuno")==="1";return ft&&ut&&et&&st&&(!CIB.manager.conversation._lastMessage||CIB.manager.conversation._lastMessage.author==="bot")&&!CIB.manager.conversation.messages.filter(function(n){return n.author==="user"}).length?(u=t((nt=_w._sydConvTranslation)===null||nt===void 0?void 0:nt.sunoCachedMessage,u),CIB.addMessage(u)):it&&o&&(!CIB.manager.conversation._lastMessage||CIB.manager.conversation._lastMessage.author==="bot")&&!CIB.manager.conversation.messages.filter(function(n){return n.author==="user"}).length?tu(u,!0):(i(r.Interaction,"TranistionToChatWithQuery","SerpToChatTransition",""),tu(u,!1)),n.lastQuery=u,n.firstQuery.length==0&&(n.firstQuery=u),!0}function ps(){return CIB.config.features.enablePartnerVisualSearchUpload&&CIB.config.visualSearch.sendPartnerImageUrlDirectlyToBot}function nu(){var n,i=new URLSearchParams(_w.location.search),t=(n=i.get(ni))!==null&&n!==void 0?n:typeof SydneyTestHelper!="undefined"?SydneyTestHelper.getParamFromUrl(ni):null;return t!==null&&t!==void 0?t:undefined}function ws(){return{imageUrl:nu()}}function tu(n,t){if(ps()){var i=ws();if(i.imageUrl){gr({query:n,isFirstMessage:t,autoSubmit:!0});return}}t?CIB.sendSearchQuery(n):CIB.addMessage(n)}function iu(n,u){var f,e,o,s,h,c;return bs(n)||ks()?!1:(o=rt("showconv"),s=rt("sendquery"),o==="1"&&s==="1"||u)?!0:o==="1"&&s!=="1"?!1:(h=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.initialShowConvPresent,!1),c=t((e=_w._sydConvConfig)===null||e===void 0?void 0:e.disableChatQueryForShowConv,!1),h&&i(r.System,"InitialShowConvPresent","SerpToChatTransition","1"),c&&h)?!1:!0}function bs(t){return!t||t==n.lastQuery||t==n.firstQuery}function ks(){var n,i,r,u,f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.bypassConsentCheck,!1),e=t((i=_w._sydConvConfig)===null||i===void 0?void 0:i.enableCodexMuidConsentTop,!1),o=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.enableCodexMuidConsentExplicit,!1),s=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.enableCodexMuidConsentImplicit,!1),h=CIB.vm.conversation.model.messages.filter(function(n){return n.author=="user"}).length,c=e||o||s;return c&&!at&&!cr()&&!(f||h<1)}function ds(n){var i=n.dataset.codexads,r,t;return i?(r=n.querySelector(".sb_add > h2 > a"),t=JSON.parse(i),r&&(t===null||t===void 0?void 0:t.length)>0&&(t[0].kappns=r.getAttribute("h")),i=JSON.stringify(t),i?i:""):""}function ht(n,t,i){return i===void 0&&(i="POST"),new Promise(function(r,u){var f=sj_gx();f.onreadystatechange=function(){f.readyState===4&&(f.status===200?r(f):u(f))};f.onerror=function(){u(f)};f.open(i,n,!0);f.setRequestHeader("content-type","application/json");f.send(t)})}function gs(n){return ht(n,"","GET").then(function(n){return Promise.resolve(JSON.parse(n.response))})["catch"](function(n){return Promise.reject(n)})}function nh(n){var u,f,i,r;return n?(i=t((u=_w._sydConvConfig)===null||u===void 0?void 0:u.tigerEnhancedPromptTemplate,""),!i)?n:(i=i.replace("{0}",n),r=t((f=_w._sydConvConfig)===null||f===void 0?void 0:f.language,""),r&&r.indexOf("English")<0&&(i+=" Respond in language "+r),i):n}function ru(){var n,i,r,u=new URLSearchParams(_w===null||_w===void 0?void 0:_w.location.search),f=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableDynamicFormCode,!1),e=f?!!_w._ncpformCode:((i=u.get("form"))===null||i===void 0?void 0:i.toLowerCase())==="convaj"||((r=u.get("form"))===null||r===void 0?void 0:r.toLowerCase())==="atcvaj";return u.has("form")&&e&&_w._isConvAjaxUpdated}function th(){var n=_ge("noSerp");return n&&Lib.CssClass.contains(n,"initSerp")}function ih(){var n,t,i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-background");i&&(i.style.height="100%",i.style.width="100%")}function rh(){var n,t,i,r,u,f,e=(f=(u=(r=(i=(t=(n=_d.querySelector("cib-serp"))===null||n===void 0?void 0:n.shadowRoot)===null||t===void 0?void 0:t.querySelector("cib-conversation"))===null||i===void 0?void 0:i.shadowRoot)===null||r===void 0?void 0:r.querySelector("cib-welcome-container"))===null||u===void 0?void 0:u.shadowRoot)===null||f===void 0?void 0:f.querySelector(".muid-upsell");e&&(e.style.display="none")}function uh(){var t,i,n=(i=(t=_d.querySelector("cib-serp"))===null||t===void 0?void 0:t.shadowRoot)===null||i===void 0?void 0:i.querySelector("cib-conversation"),r,u;(n===null||n===void 0?void 0:n.shadowRoot)&&(r=n.shadowRoot.querySelector(".scroller"),r&&(u=r.querySelector(".fade.top"),u&&(u.style.display="none")))}function fh(){var r,i,u;yt=__spreadArray([],CIB.config.sydney.request.optionsSets,!0);i=n.getAllowedToneOptionsSets(n.PRECISE_TONE);u=t((r=_w._sydConvConfig)===null||r===void 0?void 0:r.threadsAutoSaveOptionset,"autosave");i=i.filter(function(n){return n!==u});nr.forEach(function(t){n.addOptionSet(i,t)});CIB.config.sydney.request.optionsSets=i;CIB.showNotebook&&CIB.showNotebook();_G[n.SYD_PREV_MODE]=_G[n.SYD_MODE];_G[n.SYD_MODE]="notebook"}function eh(){CIB.config.sydney.request.optionsSets=__spreadArray([],yt,!0);var t=n.getAllowedToneOptionsSets(CIB.responseTone);CIB.config.sydney.request.optionsSets=t}function oh(){return __awaiter(this,void 0,void 0,function(){var t,i,n;return __generator(this,function(r){switch(r.label){case 0:return n={},i=[__spreadArray([],FreeSydneyHelper.getFreeSydneyPersonasData().freeSydneyPersonaModels,!0)],[4,lh()];case 1:return t=(n.freeSydneyPersonaModels=__spreadArray.apply(void 0,i.concat([r.sent(),!0])),n),CIB.setFreeSydneyData&&CIB.setFreeSydneyData(t),[2]}})})}function sh(){var n=FreeSydneyHelper.getFreeSydneyPersonasData();return n&&n.freeSydneyPersonaModels.length>0?n.freeSydneyPersonaModels[0]:null}function hh(n,t){if(CIB===null)return Log.Log("CI.AdsAjax","BingChatAds","InjectionFailed",!1,"Reason","CIB element not found"),!1;var i=_ge(lf),r=_qs(ir);return i===null||r===null?(Log.Log("CI.AdsAjax","BingChatAds","InjectionFailed",!1,"Reason","External content wrapper or cib-serp wrapper not found"),!1):ch(n,r,i,t)}function uu(n){if(!n)return null;for(var t=n.parentNode;t;){if(t instanceof ShadowRoot)return t;t=t.parentNode}return null}function ch(n,t,i,r){var c,l,a,v,y,p,w,b,g=n==="cib-message"&&!!r,k,nt,e,tt,f,s,h,it;if(k=g?(a=(l=uu((c=_w._sydExtResSlots)===null||c===void 0?void 0:c.get(r)))===null||l===void 0?void 0:l.host)!==null&&a!==void 0?a:undefined:(v=t===null||t===void 0?void 0:t.shadowRoot)===null||v===void 0?void 0:v.querySelector(n),!k)return Log.Log("CI.AdsAjax","BingChatAds","InjectionFailed",!1,"Reason","Destination element not found"),!1;for(nt=(p=(y=i.children)===null||y===void 0?void 0:y.length)!==null&&p!==void 0?p:0,e=0;e<nt;e++){var u=i.children[e],o=k,d=u.getAttribute("slot");if(d===null){Log.Log("CI.AdsAjax","BingChatAds","InjectionFailed",!1,"Reason","Slot name on injected element is null");continue}for(tt=1,f=d;o.tagName.toLowerCase()!==ir;)s=sj_ce("slot"),s.setAttribute("slot",f),f="".concat(d,"-").concat(tt++),s.setAttribute("name",f),o.appendChild(s),o=(b=(w=uu(o))===null||w===void 0?void 0:w.host)!==null&&b!==void 0?b:t;u.setAttribute("slot",f);t.appendChild(u);u.classList.remove(af);h=ds(u);u.removeAttribute("data-codexads");it=u.dataset.query;u.removeAttribute("data-query");g?_w.postMessage({type:"AnswerCardDimensionUpdate",data:{type:"ADS",iframeid:r,height:u.clientHeight,width:u.clientWidth,hasCarousel:!1,isFullWidth:!1,query:it,context:h?h:{}}},"*"):_w.postMessage({eventId:vf,adsContext:h,width:u.clientWidth,height:u.clientHeight},"*")}return!0}function lh(){var n;return __awaiter(this,void 0,void 0,function(){var i,r,u,f;return __generator(this,function(e){switch(e.label){case 0:return(i=t((n=_w._sydConvConfig)===null||n===void 0?void 0:n.enableAIPersonasForDesktop,!1),!(i&&typeof PersonaGPTHandler!="undefined"&&PersonaGPTHandler))?[3,2]:(r=_w._sydConvTranslation,[4,PersonaGPTHandler.getPersonas()]);case 1:return u=e.sent(),f=u.map(function(n){return{id:n.topic,type:n.topic,name:n.personaTitle,displayName:n.personaTitle,icon:n.avatarImageUrl,avatarImageUrl:n.avatarImageUrl,description:n.shortDescription,extraOptionsSets:n.optionsSets,supportedTones:n.supportedTones,defaultTone:n.defaultTone,showThreads:!1,welcomeHeader:n.description,welcomeTiles:n.suggestions.map(function(n){return{category:"chat",text:n.text,title:r.freeSydneyWelcomeTilesChatTitle,size:"medium"}})}}),[2,f];case 2:return[2,[]]}})})}var fu="sydneyOptionsSets",eu="codexFeatures",ou="speechSrOptions",ni="imgUrl",su="https://bing.com/new",fi,w;n.CREATIVE_TONE="Creative";n.BALANCED_TONE="Balanced";n.PRECISE_TONE="Precise";var ct=5,hu=2,p=2e3,cu=1e7,lu=15e6,au=300,vu=5,yu=1,pu=750,ti=48,wu=42,bu=16,ku=6,ii=60,ri=66,du=1e3,gu="so_bing_chat",ui="seltone",nf="SydAddCarousel";n.SYD_MODE="SydMode";n.SYD_PREV_MODE="SydPrevMode";n.lastQuery=(n===null||n===void 0?void 0:n.lastQuery)?n===null||n===void 0?void 0:n.lastQuery:"";n.firstQuery="";n.ignoreFirstOffStage=!1;n.shouldResetBotGreeting=!0;n.shouldForceSendBotGreeting=!1;fi="shareId";n.userCook="SRCHHPGUSR";n.toneCook="CDXTC";n.toneCrumb="cdxtone";n.toneOptsCrumb="cdxtoneopts";w="InitialTone";n.hasSetToneCrumb="cdxts";var tf="crtone",rf="cdxwinturn",uf="ADLT",b="MUID",ei="CMUID",ff="BCTTSOS",oi="VSRO",si="BFBUSR",ef="CMUIDBCE",hi="CIBV",ci="BCML",li="BCMLNCount",k=!1,ai="BCRO",vi="BCRONCount",d=!1,sf="BCSRLANG",hf=["chips","query","searchQuery","text"],lt="<stripped/>",yi="cdxModalVisible",cf="aad",g="",nt="",pi=!1,wi=!1,bi=!0,l=ei,a=!1,at=!1,r={System:"SystemEvent",Interaction:"InteractionEvent"},u={Creative:"h3imaginative",Balanced:"harmonyv3",Precise:"h3precise"},tt={c:"Creative",b:"Balanced",p:"Precise"},h={Creative:[],Balanced:[],Precise:[]},c="",ki=!1,o=!1,di=!1,vt=-1,gi="",yt,nr=[],tr="",it={Off:"1",Demote:"2",Strict:"4",KidSafe:"8",Stricter:"16",AdultOnly:"32"},lf="b_chat_external_content",ir="cib-serp",af="b_hide",vf="adInjectionComplete";n.isSydFSCEligible=n.isSydFSCEligible?n.isSydFSCEligible:!1;n.isConfigSet=!1;n.enableCreatorSendQueryWhenShowConvQuery=!0;n.padding2TMobile=92;n.MIN_WIDTH_MOBILE=288;n.enableConvModeSwitchAjax=!1;n.enableBingChatPath=!1;n.setConfigs=yf;n.setTestConfigs=rr;n.setColorScheme=bf;n.getMobileBrowserWidth=fr;n.getMobileBrowserHeight=er;n.setConvTranslationAsync=kf;n.setTigActiveSuggestionChipText=de;n.getTigActiveSuggestionChipText=ge;n.getCookieTone=wt;n.updateResponseToneAfterSerp=oo;n.setSpeechLanguageConfig=ar;n.addOptionSet=f;n.removeOptionSet=ft;n.getConfigOrDefault=t;n.getAllowedToneOptionsSets=lo;n.isCookieBannerVisibileOnChatPage=ao;n.SydLog=i;n.LogIntEvent=yr;n.setupHistory=yo;n.pushSydHistory=po;n.updateConvFlagInURL=pr;n.addNotebookFlagInURL=wo;n.deleteNotebookFlagInURL=bo;n.updateConvPageTitle=go;n.checkInitialState=ns;n.setEventListeners=ts;n.getActiveSuggestionChipText=is;n.processCachedResponseUsingCIB=rs;n.triggerSydFSC=br;n.getQuery=y;n.triggerShareFlow=us;n.triggerSydFSCWithContext=kr;n.triggerSydFSCQueryWithContext=fs;n.setSydFSCEligibleState=es;n.sydPayWallTrace=os;n.triggerClarity=ss;n.shouldMove1TAnswers=hs;n.addCarousel=cs;n.removeQueries=dr;n.set2TQueryConfigs=gt;n.retrieveSydneyFSCClientHeight=ot;n.retrieveSydneyFSCClientWidth=st;n.submitVisualSearchImage=gr;n.sendFirstQuery=ys;n.shouldSendQuery=iu;n.createRequest=ht;n.getJsonData=gs;n.createIntelligentQuery=nh;n.isSmoothConvSwitchUpdatedPage=ru;n.isFirstAjaxSerp=th;n.updateChatBackgroundWidth=ih;n.hideSignInUpsellFor3P=rh;n.hideTopFade=uh;n.setNotebookOptions=fh;n.setDefaultOptions=eh;n.setFreeSydneyData=oh;n.getDefaultFreeSydneyData=sh;n.injectExternalAd=hh;sj_evt.fire("SydFSCHelperLoaded")})(SydFSCHelper||(SydFSCHelper={}))